<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://icyfe.github.io/icyblog/</id>
    <title>icyfe</title>
    <updated>2020-06-17T03:56:29.498Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://icyfe.github.io/icyblog/"/>
    <link rel="self" href="https://icyfe.github.io/icyblog/atom.xml"/>
    <subtitle>å¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸ŠğŸŒ¸</subtitle>
    <logo>https://icyfe.github.io/icyblog/images/avatar.png</logo>
    <icon>https://icyfe.github.io/icyblog/favicon.ico</icon>
    <rights>All rights reserved 2020, icyfe</rights>
    <entry>
        <title type="html"><![CDATA[ æ•°ä¸‡æ¡åˆ—è¡¨æ•°æ®ä¼˜åŒ–]]></title>
        <id>https://icyfe.github.io/icyblog/post/shu-wan-tiao-lie-biao-shu-ju-you-hua/</id>
        <link href="https://icyfe.github.io/icyblog/post/shu-wan-tiao-lie-biao-shu-ju-you-hua/">
        </link>
        <updated>2020-06-17T03:21:45.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å½“ä¸€ä¸ªé¡µé¢çš„åˆ—è¡¨æœ‰å¤§é‡æ•°æ®å¦‚æœ‰-100000-æ¡å¦‚ä½•ä¼˜åŒ–æ¸²æŸ“">å½“ä¸€ä¸ªé¡µé¢çš„åˆ—è¡¨æœ‰å¤§é‡æ•°æ®å¦‚æœ‰ 100000 æ¡å¦‚ä½•ä¼˜åŒ–æ¸²æŸ“ï¼Ÿ</h2>
<p>å½“æˆ‘ä»¬å°† 10W æ¡å…¨éƒ¨åœ¨é¡µé¢åŠ è½½çš„æ—¶å€™æ¸²æŸ“å‡ºæ¥ï¼Œå¯ä»¥å¾ˆæ˜æ˜¾çš„æ„Ÿå—åˆ°åŠ è½½é€Ÿåº¦ç¼“æ…¢å¹¶ä¸”å¯ä»¥çœ‹åˆ° DOM æ ‘éå¸¸éå¸¸çš„é•¿å½“å¿«é€Ÿä¸Šä¸‹æ»šåŠ¨æ—¶å€™ï¼Œå¶å°”è¿˜ä¼šå¡é¡¿ï¼Œä¸‹é¢æˆ‘ä»¬ç”¨ä»£ç å®ç°ä¸‹è¿™é‡Œç”¨ vue å®ç°</p>
<pre><code class="language-vue">&lt;template&gt;
  &lt;div class=&quot;list-view&quot;&gt;
    &lt;!-- @scroll=&quot;handleScroll($event)&quot; --&gt;
    &lt;div class=&quot;list-view-item&quot; :style=&quot;{ height: itemHeight + 'px' }&quot; v-for=&quot;item in data&quot; :key=&quot;item.value&quot;&gt;{{ item }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
â€‹
&lt;style&gt;
.list-view {
  height: 600px;
  width: 200px;
  overflow: auto;
  position: relative;
  border: 1px solid #666;
}
â€‹ .list-view-phantom {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  z-index: -1;
}
.list-view-content {
  position: absolute;
  height: 600px;
  z-index: 99;
  left: 0;
  right: 0;
  top: 0;
}
â€‹ .list-view-item {
  padding: 5px;
  color: #000;
  height: 30px;
  width: 200px;
  line-height: 30px;
  box-sizing: border-box;
}
&lt;/style&gt;
&lt;script&gt;
export default {
  props: {
    itemHeight: {
      type: Number,
      default: 30
    }
  },
  mounted() {},
  created() {
    for (let i = 0; i &lt; 100000; i++) {
      this.data.push('ç¬¬' + i + 'æ¡');
    }
  },
  data() {
    return {
      data: []
    };
  },
  methods: {}
};
&lt;/script&gt;
</code></pre>
<p>æ•ˆæœå›¾<br>
<img src="https://user-images.githubusercontent.com/44893721/54416187-a9439f80-4739-11e9-8cb5-bf7af0ba85c6.gif" alt="cc" loading="lazy"><br>
å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°å½“å¿«é€Ÿæ»‘åŠ¨æ—¶ç”»é¢çš„å¡é¡¿</p>
<h2 id="å¦‚ä½•ä¼˜åŒ–">å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</h2>
<p>æˆ‘ä»¬çŸ¥é“å±å¹•éƒ½æ˜¯æœ‰ä¸€ä¸ªå¯è§†èŒƒå›´çš„ï¼Œæˆ‘ä»¬å› æ­¤å°±å¯ä»¥å½“èŠ‚ç‚¹åœ¨å¯è§†èŒƒå›´æ—¶å°±æ˜¾ç¤ºå‡ºæ¥ï¼Œå½“èŠ‚ç‚¹ä¸åœ¨å¯è§†èŒƒå›´æ—¶å€™å°±ç§»é™¤ï¼Œå› æ­¤æˆ‘ä»¬åªè¦æ¸²æŸ“å¯è§†èŒƒå›´çš„èŠ‚ç‚¹å³å¯<br>
ç”»ä¸ªå›¾<br>
<img src="https://user-images.githubusercontent.com/44893721/54416872-9762fc00-473b-11e9-87d6-9e0791a86d91.jpg" alt="1552636795(1)" loading="lazy"></p>
<p>ä¸»è¦åˆ†ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ã€‚ 1.è®¡ç®—çª—å£å¯è§†èŒƒå›´ï¼Œå¹¶æ ¹æ®å¯è§†èŒƒå›´è®¡ç®—å‡ºä¸€å±å¹•å¯è§çš„èŠ‚ç‚¹ã€‚ 2.ç›‘å¬æ»šåŠ¨è®¡ç®—æ¯æ¬¡æ»šåŠ¨å®Œæˆåçš„åˆå§‹èŠ‚ç‚¹å’Œæœ«å°¾èŠ‚ç‚¹ 3.æ ¹æ®æ–°çš„èµ·å§‹èŠ‚ç‚¹æ›¿æ¢å¯è§†åŒºåŸŸæ•°æ®<br>
å…·ä½“å®ç°å‚è€ƒäº†ä¸€ç¯‡ç½‘ä¸Šçš„åšå®¢å…·ä½“é“¾æ¥ä¼šåœ¨ä¸‹é¢æ³¨æ˜ï¼š</p>
<pre><code class="language-vue">&lt;template&gt;
  &lt;div class=&quot;list-view&quot; @scroll=&quot;handleScroll($event)&quot;&gt;
    &lt;div class=&quot;list-view-phantom&quot; :style=&quot;{ height: listheight + 'px' }&quot;&gt;&lt;/div&gt;
    &lt;div ref=&quot;content&quot; class=&quot;list-view-content&quot;&gt;
      &lt;div class=&quot;list-view-item&quot; :style=&quot;{ height: itemHeight + 'px' }&quot; v-for=&quot;item in visibleData&quot; :key=&quot;item.value&quot;&gt;{{ item }}&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  props: {
    itemHeight: {
      type: Number,
      default: 30
    }
  },
  mounted() {
    this.visibleCount = Math.ceil(this.$el.clientHeight / this.itemHeight); //è®¡ç®—å¯è§†åŒºåŸŸé«˜åº¦å¯æ˜¾ç¤ºæ•°æ®æ¡ç›®æ•°
    this.start = 0; //èµ·å§‹æ•°æ®ä¸‹æ ‡
    this.end = this.start + this.visibleCount; //æœ«å°¾æœ€åä¸€æ¡
    this.visibleData = this.data.slice(this.start, this.end); // åˆå§‹åŒ–å¯è§†åŒºåŸŸæ•°æ®
  },
  created() {
    for (let i = 0; i &lt; 100000; i++) {
      this.data.push('ç¬¬' + i + 'æ¡'); //åˆå§‹åŒ–10Wæ¡æ•°æ®
    }
    this.listheight = this.data.length * 30; //è®¡ç®—10wæ¡å…ƒç´ çš„æ€»é«˜åº¦
  },
  data() {
    return {
      data: [],
      start: 0,
      end: null,
      visibleCount: null, //
      visibleData: [],
      scrollTop: 0,
      listheight: ''
    };
  },
  methods: {
    //æ»šåŠ¨ç›‘å¬
    handleScroll(event) {
      const scrollTop = this.$el.scrollTop; //ç›‘å¬è·ç¦»é¡¶éƒ¨é«˜åº¦
      const fixedScrollTop = scrollTop - (scrollTop % 30); //ä¿®å¤ç§»åŠ¨ä½ç½®ä¸ç²¾ç¡®é—®é¢˜
      this.$refs.content.style.webkitTransform = `translate3d(0, ${fixedScrollTop}px, 0)`; //å®æ—¶ä½ç§»
      this.start = Math.floor(scrollTop / 30); //é‡æ–°è®¡ç®—èµ·å§‹æ¡ç›®ä¸‹æ ‡
      this.end = this.start + this.visibleCount; // é‡æ–°è®¡ç®—æœ«å°¾å°æ ‡
      this.visibleData = this.data.slice(this.start, this.end); //é‡æ–°è£…è½½å¯è§†åŒºåŸŸæ•°æ®
    }
  }
};
&lt;/script&gt;
&lt;style&gt;
.list-view {
  height: 400px;
  width: 200px;
  overflow: auto;
  position: relative;
  border: 1px solid #666;
}
â€‹ .list-view-phantom {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  z-index: -1;
}
.list-view-content {
  position: absolute;
  height: 400px;
  z-index: 99;
  left: 0;
  right: 0;
  top: 0;
}
â€‹ .list-view-item {
  padding: 5px;
  color: #000;
  height: 30px;
  width: 200px;
  line-height: 30px;
  box-sizing: border-box;
}
&lt;/style&gt;
</code></pre>
<p>æ¥çœ‹çœ‹å®ç°åçš„å¿«é€Ÿæ»šåŠ¨çš„æ•ˆæœ<br>
<img src="https://user-images.githubusercontent.com/44893721/54417786-1c4f1500-473e-11e9-8602-0e19d27c6176.gif" alt="ccc" loading="lazy"><br>
<img src="https://user-images.githubusercontent.com/44893721/54417902-60421a00-473e-11e9-938e-10e19e226590.gif" alt="aaa" loading="lazy"></p>
<p>è¿™é‡Œä¸»è¦åˆ©ç”¨äº†ç»å¯¹å¸ƒå±€ï¼Œåˆ©ç”¨ä¸¤ä¸ªç»å¯¹å¸ƒå±€ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œä½†é«˜åº¦ä¸ºæ‰€æœ‰èŠ‚ç‚¹é«˜åº¦çš„åˆï¼Œåˆ©ç”¨è¿™ä¸ªæ’‘å¼€çˆ¶èŠ‚ç‚¹ä½¿å…¶æ»šåŠ¨æ¡å‡ºç°ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹é«˜åº¦å’Œå¯è§†åŒºåŸŸé«˜åº¦ä¸€è‡´ï¼Œå½“ä¸æ–­æ»šåŠ¨çš„æ—¶å€™åˆ©ç”¨ä½ç§»è°ƒæ•´ä½ç½®ã€‚<br>
ç”»ä¸ªå›¾<br>
<img src="https://user-images.githubusercontent.com/44893721/54418395-cb402080-473f-11e9-9d0f-7dd49266f1fd.jpg" alt="1552638608(1)" loading="lazy"></p>
<p>æ— è®ºå¦‚ä½•æ»‘åŠ¨ï¼Œå¯è§†åŒºåŸŸçš„èŒƒå›´å°±é‚£ä¹ˆå¤§ï¼Œå› æ­¤ä¸ä¼šé€ æˆé¡µé¢å¤§é‡ DOM èŠ‚ç‚¹çš„å­˜åœ¨å¯¼è‡´å¡é¡¿é—®é¢˜çš„å‡ºç°<br>
å‚è€ƒå®ç°https://zhuanlan.zhihu.com/p/26022258</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello~]]></title>
        <id>https://icyfe.github.io/icyblog/post/hello/</id>
        <link href="https://icyfe.github.io/icyblog/post/hello/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <content type="html"><![CDATA[<h2 id="è®°å½•ç”Ÿæ´»-è®°å½•ç‚¹æ»´">è®°å½•ç”Ÿæ´»ï¼Œ è®°å½•ç‚¹æ»´</h2>
]]></content>
    </entry>
</feed>