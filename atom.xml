<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://icyfe.github.io/icyblog/</id>
    <title>icyfe</title>
    <updated>2020-06-17T08:37:18.897Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://icyfe.github.io/icyblog/"/>
    <link rel="self" href="https://icyfe.github.io/icyblog/atom.xml"/>
    <subtitle>å¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸ŠğŸŒ¸</subtitle>
    <logo>https://icyfe.github.io/icyblog/images/avatar.png</logo>
    <icon>https://icyfe.github.io/icyblog/favicon.ico</icon>
    <rights>All rights reserved 2020, icyfe</rights>
    <entry>
        <title type="html"><![CDATA[æ·±å…¥ç†è§£Cssæƒé‡å€¼]]></title>
        <id>https://icyfe.github.io/icyblog/post/shen-ru-li-jie-css-quan-chong-zhi/</id>
        <link href="https://icyfe.github.io/icyblog/post/shen-ru-li-jie-css-quan-chong-zhi/">
        </link>
        <updated>2020-06-17T08:36:35.000Z</updated>
        <content type="html"><![CDATA[<h1 id="css-æƒé‡å€¼">Css æƒé‡å€¼ï¼Ÿ</h1>
<p>åœ¨æ—¥å¸¸æˆ‘ä»¬å†™ css æ ·å¼çš„æ—¶å€™æˆ–å¤šæˆ–å°‘éƒ½é‡åˆ°è¿‡è‡ªå·±å†™çš„æ ·å¼ä¸ç”Ÿæ•ˆçš„æ—¶å€™ï¼Œä¸€èˆ¬éƒ½ä¸ä¼šå»æ¢ç©¶èƒŒåçš„åŸå› ç›´æ¥ä¸€è‚¡è„‘çš„ï¼important å®Œäº‹ï¼Œä½†è¿™æ ·æ˜¯éå¸¸ä¸å¥½çš„ï¼Œä½†æœ‰çš„æ—¶å€™åŠ äº† important ä¹Ÿæ— æ³•ç”Ÿæ•ˆæ ·å¼ï¼ˆå½“ç„¶æˆ‘ä»¬è¿˜æ˜¯éµå¾ªèƒ½ä¸å†™ Important å°±å°½é‡ä¸å†™ï¼‰ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼åœ¨ css å†™æ ·å¼ä¸­æœ‰ä¸ªé‡è¦çš„æƒé‡é—®é¢˜ï¼</p>
<h2 id="ä»€ä¹ˆæ˜¯æƒé‡">ä»€ä¹ˆæ˜¯æƒé‡ï¼Ÿ</h2>
<p>æ¯ä¸ª css è§„åˆ™éƒ½æœ‰è‡ªå·±ç›¸åº”çš„æƒé‡å€¼ï¼Œæƒé‡å€¼è¶Šå¤§çš„è§„åˆ™ç”Ÿæ•ˆï¼Œä¸»è¦æœ‰ 5 ç§</p>
<ol>
<li>è¡Œå†…æ ·å¼ æƒé‡å€¼ 1000</li>
<li>id é€‰æ‹©å™¨ æƒé‡å€¼ 100</li>
<li>ç±»é€‰æ‹©èµ·ï¼Œå±æ€§å’Œä¼ªç±»(:hover,actived) æƒé‡å€¼ 10 4.å…ƒç´ ï¼Œä¼ªå…ƒç´  (::before,::after) æƒé‡å€¼ 1<br>
5.!important æœ€å¤§ï¼Œï¼ˆä½†ä¹Ÿéµä»æƒé‡è®¡ç®—è§„åˆ™ä¸‹é¢ä¼šæåˆ°ï¼‰<br>
æˆ‘ä»¬å†™çš„ css è§„åˆ™å°±æŒ‰ç…§ä»¥ä¸Šæƒé‡å€¼è¿›è¡Œç´¯åŠ ï¼Œä¾‹å¦‚ä»¥ä¸‹æ —å­ï¼š</li>
</ol>
<pre><code class="language-css">&lt;div style=&quot;.....&quot;&gt;&lt;/div&gt; =&gt;1000
#id{} =&gt;100
.class{}=&gt;10
body{} =&gt;1
p{}=&gt;1
</code></pre>
<p>å½“å†™ css è§„åˆ™æ—¶ä¼šæŒ‰ç…§å€¼è¿›è¡Œç´¯åŠ ï¼Œå€¼è¶Šå¤§æƒé‡è¶Šå¤§</p>
<pre><code class="language-css">body #id {} =&gt;å…ƒç´ 1 idé€‰æ‹©å™¨100 = 101
#id .class{} =&gt;idé€‰æ‹©å™¨100ç±»é€‰æ‹©å™¨ = 110
#id .class p{} =&gt; idé€‰æ‹©å™¨100  ç±»é€‰æ‹©å™¨10 å…ƒç´ æ ‡ç­¾1 = 111
</code></pre>
<h2 id="ä¸»è¦è§„åˆ™">ä¸»è¦è§„åˆ™</h2>
<p><strong>æ— è®ºå¤šå°‘ä¸ªåŒçº§æƒé‡ç´¯åŠ éƒ½ä¸ä¼šè¶…è¿‡é«˜ç­‰çº§æƒé‡å€¼</strong></p>
<pre><code class="language-css">.class .class .Nclass {
}
&lt; #id {
}
</code></pre>
<p><strong>ç›¸åŒæƒé‡å€¼ä½œç”¨äºåŒä¸€ä¸ªå…ƒç´ æ—¶æƒé‡å€¼å¤§çš„ç”Ÿæ•ˆ</strong></p>
<pre><code class="language-css">.test1 .test2{background:red} =&gt;20
.tetst1 .test2 p{background:black} =&gt;21
</code></pre>
<p>å‡è®¾ä»¥ä¸Šä¸¤æ¡éƒ½ä½œç”¨äºåŒä¸€ä¸ªå…ƒç´ ï¼Œä¸‹é¢æƒé‡å€¼é«˜çš„ä¼šç”Ÿæ•ˆ<br>
æœ‰æ—¶å€™!important åŠ äº†ä¹Ÿæ²¡ç”Ÿæ•ˆæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå®ƒä¹Ÿéµå¾ªæƒé‡å¤§å°è§„åˆ™ä¾‹å¦‚ï¼š</p>
<pre><code class="language-css">.test1 .test2{background:red!important} =&gt;20
.tetst1 .test2 p{background:black!important} =&gt;21
</code></pre>
<p>ä¸Šé¢éƒ½åŠ äº† important ä½†è¿˜æ˜¯æƒé‡å€¼æ›´å¤§çš„ä¼šç”Ÿæ•ˆ<br>
<strong>ç¦»å…ƒç´ æ ‡ç­¾è¶Šè¿‘çš„ç”Ÿæ•ˆ</strong><br>
åœ¨ä¸€ä¸ªå•ç‹¬çš„ css æ–‡ä»¶å†™å¦‚ä¸‹æ ·å¼</p>
<pre><code class="language-css">.nav-bar {
  background: red;
}
</code></pre>
<p>åœ¨ html çš„ style ä¸­å†™</p>
<pre><code class="language-html">&lt;head&gt;
  &lt;style&gt;
    .nav-bar {
      background: black;
    }
  &lt;/style&gt;
&lt;/head&gt;
</code></pre>
<p>ä»¥ä¸Šæ —å­ä¸­è™½ç„¶éƒ½ä¸€æ ·ä½†æ˜¯ä¸‹é¢çš„ css ä¼šç”Ÿæ•ˆ<br>
<a href="https://www.adobe.com/devnet/archive/dreamweaver/articles/css_specificity_02.html">è¯¦ç»†å‚é˜…ã€Understanding Specificityã€‘ </a></p>
<p><strong>ç›¸åŒçš„æƒé‡åé¢çš„ä¼šè¦†ç›–å‰é¢çš„</strong></p>
<pre><code class="language-css">p {
  background: red;
}
p {
  background: black;
}
</code></pre>
<h2 id="æœ€å">æœ€å</h2>
<p><strong>ä¸è¦ç”¨!important</strong><br>
æ°¸è¿œéƒ½ä¸è¦ä½¿ç”¨â€œ!importantâ€ï¼šâ€œå¦‚æœä½ é‡åˆ°äº†æƒé‡é—®é¢˜ï¼Œç¬¬ä¸€ä¸ªè§£å†³æ–¹æ³•è‚¯å®šæ˜¯å»æ‰â€œ!importantâ€ï¼Œâ€œ!importantâ€ä¼šè¦†ç›–æ‰€æœ‰çš„æ ·å¼è§„åˆ™ï¼Œä½†â€œ!importantâ€æ ¹æœ¬æ²¡æœ‰ç»“æ„ä¸ä¸Šä¸‹æ–‡å¯è¨€ï¼Œæ‰€ä»¥å¾ˆ å®¹æ˜“æ‰¾ä¸åˆ°æ ·å¼å¤±æ•ˆçš„åŸå› </p>
<p>æœ¬æ–‡å‚è€ƒ<a href="https://www.w3cplus.com/css/css-specificity-things-you-should-know.html">ä½ åº”è¯¥çŸ¥é“çš„ css æƒé‡é—®é¢˜</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ less å…¨å±€æ¢è‚¤æ–¹æ¡ˆ]]></title>
        <id>https://icyfe.github.io/icyblog/post/less-quan-ju-huan-fu-fang-an/</id>
        <link href="https://icyfe.github.io/icyblog/post/less-quan-ju-huan-fu-fang-an/">
        </link>
        <updated>2020-06-17T08:18:58.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æ–¹æ¡ˆåŸºäº-antd-ui">æ–¹æ¡ˆåŸºäº antd UI</h2>
<h2 id="æ–°å»º-globalless">æ–°å»º global.less</h2>
<p>æ–°å»º global.less åœ¨èµ„æºæ–‡ä»¶å¤¹ aseets/style ä¸‹ å…·ä½“ä»£ç å¦‚ä¸‹ è™½ç„¶è¿™ä¸ªæ²¡ä»€ä¹ˆç”¨ä½†æ˜¯å¿…é¡»å¾—åˆ›å»º</p>
<pre><code class="language-js">@primary-color: &quot;#f52533&quot; !important;

</code></pre>
<h2 id="æ–°å»º-varsless">æ–°å»º vars.less</h2>
<p>æ–°å»º vars.less åœ¨èµ„æºæ–‡ä»¶å¤¹ aseets/style(æ ¹æ®è‡ªå·±é¡¹ç›®æƒ…å†µè€Œå®š)</p>
<pre><code class="language-js">@import &quot;~antd/lib/style/themes/default.less&quot;; //å¼•å…¥antdçš„å˜é‡æ–‡ä»¶ï¼Œå®ç°å˜é‡çš„è¦†ç›–
@primary-color: #1da57a;
@link-color: #1da57a;
@btn-primary-bg: #1da57a;
:root {
 --primary-color-0: @primary-color; //color.lessä¸­åŠ å…¥cssåŸç”Ÿå˜é‡ï¼š--PC
}

</code></pre>
<h2 id="æ–°å»º-themcolorjs">æ–°å»º themColor.js</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ æ–°å»º themColor.js ç”¨äºåŠ¨æ€æ›´æ”¹å…¨å±€ä¸»é¢˜è‰²</p>
<pre><code class="language-js">const path = require(&quot;path&quot;);
const { generateTheme, getLessVars } = require(&quot;antd-theme-generator&quot;);

const options = {
  stylesDir: path.join(__dirname, &quot;./src/assets/styles&quot;), //å¯¹åº”å…·ä½“ä½ç½®
  antDir: path.join(__dirname, &quot;./node_modules/antd&quot;), //å¯¹åº”å…·ä½“ä½ç½®
  varFile: path.join(__dirname, &quot;./src/assets/styles/vars.less&quot;), //å¯¹åº”å…·ä½“ä½ç½®
  mainLessFile: path.join(__dirname, &quot;./src/assets/styles/global.less&quot;), //å¯¹åº”å…·ä½“ä½ç½®
  themeVariables: [
    &quot;@primary-color&quot;,
    &quot;@secondary-color&quot;,
    &quot;@text-color&quot;,
    &quot;@text-color-secondary&quot;,
    &quot;@heading-color&quot;,
    &quot;@layout-body-background&quot;,
    &quot;@btn-primary-bg&quot;,
    &quot;@layout-header-background&quot;
  ],
  indexFileName: &quot;index.html&quot;,
  outputFilePath: path.join(__dirname, &quot;./public/color.less&quot;) //é¡µé¢å¼•å…¥çš„ä¸»é¢˜å˜é‡æ–‡ä»¶
};

generateTheme(options)
  .then(less =&gt; {
    console.log(&quot;Theme generated successfully&quot;);
  })
  .catch(error =&gt; {
    console.log(&quot;Error&quot;, error);
  });
</code></pre>
<h3 id="åœ¨æ¨¡æ¿-indexhtml-å°±æ˜¯æˆ‘ä»¬çš„ç»„ä»¶è¦æŒ‚è½½çš„-html-ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®">åœ¨æ¨¡æ¿ index.html (å°±æ˜¯æˆ‘ä»¬çš„ç»„ä»¶è¦æŒ‚è½½çš„ html) ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®</h3>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;link rel=&quot;icon&quot; href=&quot;%PUBLIC_URL%/favicon.ico&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot; /&gt;
    &lt;meta
      name=&quot;description&quot;
      content=&quot;Web site created using create-react-app&quot;
    /&gt;
    &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;logo192.png&quot; /&gt;

    &lt;!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    --&gt;
    &lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot; /&gt;
    &lt;!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike &quot;/favicon.ico&quot; or &quot;favicon.ico&quot;, &quot;%PUBLIC_URL%/favicon.ico&quot; will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    --&gt;
    &lt;title&gt;React App&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;!-- é‡ç‚¹æ˜¯è¿™é‡Œ start --&gt;
    &lt;link
      rel=&quot;stylesheet/less&quot;
      type=&quot;text/css&quot;
      href=&quot;%PUBLIC_URL%/color.less&quot;
      rel=&quot;external nofollow&quot;
    /&gt;
    &lt;script&gt;
      window.less = {
        async: false,
        env: &quot;production&quot;
      };
    &lt;/script&gt;
    &lt;script
      type=&quot;text/javascript&quot;
      src=&quot;https://cdnjs.cloudflare.com/ajax/libs/less.js/2.7.2/less.min.js&quot;
    &gt;&lt;/script&gt;
    &lt;!-- é‡ç‚¹æ˜¯è¿™é‡Œ end --&gt;
    &lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;
    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;
    &lt;!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the &lt;body&gt; tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    --&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="æœ€åä¿®æ”¹-packgejson-æ–‡ä»¶">æœ€åä¿®æ”¹ packge.json æ–‡ä»¶</h3>
<p>åœ¨ scripts ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç </p>
<pre><code class="language-js">  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node themeColor &amp;&amp; node scripts/start.js&quot;,
    &quot;build&quot;: &quot;node themeColor &amp;&amp; node scripts/build.js&quot;,
    &quot;test&quot;: &quot;node scripts/test.js&quot;
  },
</code></pre>
<h2 id="å¦‚ä½•æ›´æ”¹">å¦‚ä½•æ›´æ”¹</h2>
<p>åœ¨éœ€è¦åŠ¨æ€æ›´æ”¹çš„åœ°æ–¹ ä½¿ç”¨ä»¥ä¸‹ä»£ç å°±å¯ä»¥äº†</p>
<pre><code class="language-js">window.less
  .modifyVars({
    &quot;@primary-color&quot;: &quot;#FFB6C1&quot;,
    &quot;@link-color&quot;: &quot;#FFB6C1&quot;,
    &quot;@btn-primary-bg&quot;: &quot;#FFB6C1&quot;
  })
  .then(() =&gt; {})
  .catch(error =&gt; {
    // message.error(`Failed to update theme`);
  });
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Javascript this æŒ‡å‘é—®é¢˜]]></title>
        <id>https://icyfe.github.io/icyblog/post/javascript-this-zhi-xiang-wen-ti/</id>
        <link href="https://icyfe.github.io/icyblog/post/javascript-this-zhi-xiang-wen-ti/">
        </link>
        <updated>2020-06-17T08:06:55.000Z</updated>
        <content type="html"><![CDATA[<p>å…³äº this æŒ‡å‘è‚¯å®šé‡åˆ°è¿‡è®¸è®¸å¤šå¤šçš„å¥‡æ€ªé—®é¢˜ï¼Œè¿™éƒ½æ˜¯å› ä¸ºæ²¡å¼„æ¸…æ¥šå®ƒçš„æŒ‡å‘å¯¼è‡´ä¸€äº›è°ƒç”¨çš„é”™è¯¯ï¼Œä¸‹é¢æ€»ç»“å…ˆ this çš„æŒ‡å‘ã€‚</p>
<h2 id="1è°è°ƒç”¨äº†å®ƒthis-å°±æŒ‡å‘è°å½“æ˜¯å…¨å±€è°ƒç”¨ä¸”ä¸ºéä¸¥æ ¼æ¨¡å¼æ—¶-this-æŒ‡å…¨å±€åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹æŒ‡å‘-windowå¦åˆ™æ˜¯-undefined"><strong>1.è°è°ƒç”¨äº†å®ƒï¼Œthis å°±æŒ‡å‘è°ï¼Œå½“æ˜¯å…¨å±€è°ƒç”¨ä¸”ä¸ºéä¸¥æ ¼æ¨¡å¼æ—¶ this æŒ‡å…¨å±€(åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹æŒ‡å‘ window)ï¼Œå¦åˆ™æ˜¯ undefined</strong></h2>
<p>ä¸¾ä¸ªæ —å­<br>
éä¸¥æ ¼æ¨¡å¼</p>
<pre><code class="language-js">var value = 'global scope';
function a() {
  console.log(this.value);
}
a(); // global scope
</code></pre>
<p>ä¸¥æ ¼æ¨¡å¼</p>
<pre><code class="language-js">'use strict';
var value = 'global scope';
function a() {
  console.log(this.value);
}
a(); // undefined
</code></pre>
<p>åœ¨æµè§ˆå™¨ä¸­å…¨å±€çš„ this é»˜è®¤æ˜¯ windowï¼Œ å› æ­¤ a()åœ¨å…¨å±€ä¸­è¢«è°ƒç”¨ç›¸å½“äºæ˜¯ window.aï¼Œè°è°ƒç”¨å®ƒ this å°±æŒ‡å‘è°ï¼Œå› æ­¤è¿™é‡Œæ‰“å°å‡ºå…¨å±€å˜é‡çš„'global scope'<br>
åœ¨çœ‹ä¸€ä¸ªæ —å­ï¼š</p>
<pre><code class="language-js">var value = 'global scope';
var o = {
  value: 'local scope',
  a: function() {
    console.log(this.value);
  }
};

o.a(); //local scope
</code></pre>
<p>è¿™é‡Œé€šè¿‡åˆ›å»ºä¸€ä¸ª o å®ä¾‹å¯¹è±¡ï¼Œé€šè¿‡ o è°ƒç”¨ this çš„æŒ‡å‘å°±æŒ‡å‘ oã€‚</p>
<h2 id="2call-apply-bind-æ”¹å˜thisæŒ‡å‘"><code>2.call, apply, bind æ”¹å˜thisæŒ‡å‘</code></h2>
<p>åœ¨ js ä¸­æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥æ˜¾ç¤ºçš„æ”¹å˜ this çš„æŒ‡å‘ï¼Œcall å’Œ apply é™¤äº†ä¼ å‚ä¸ä¸€æ ·å…¶æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œcall å’Œ apply ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯è¦ä¼ å…¥å°†è¦æŒ‡å‘çš„ this, call åé¢å¯æ¥å¤šä¸ªå‚æ•°ï¼Œapply åˆ™æ˜¯ç¬¬äºŒä¸ªå‚æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯æ•°ç»„ã€‚</p>
<pre><code class="language-js">fn.call(this, arg1, ag2, ag3);
fn.apply(this, [...arg]);
</code></pre>
<p>bind çš„æœ¬è´¨æ˜¯å°è£…äº† apply å®ƒè¿”å›çš„ä¸€ä¸ªå‡½æ•°ã€‚<br>
æ¥çœ‹å‡ ä¸ªæ —å­:</p>
<pre><code class="language-js">var value = 'global scope';
function b() {
  console.log(this.value);
}
var o = {
  value: 'local scope',
  a: function() {
    console.log(this.value);
  }
};

b.call(o); //local scope
b.apply(o); //local scope
let c = b.bind(o);
c(); //local scope
</code></pre>
<p>ä¸Šé¢å‡ ä¸ªæ —å­éƒ½æ˜¯æ”¹å˜äº† this çš„æŒ‡å‘ï¼ŒåŸæœ¬åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹æŒ‡å‘å…¨å±€çš„ this åº”è¯¥è¾“å‡º'global scope'ï¼Œæ”¹å˜ this æŒ‡å‘åæŒ‡å‘äº†ä¼ å…¥çš„ o å¯¹è±¡å› æ­¤æ‰“å°å‡º'local scope'<br>
call å’Œ apply çš„åŸç†å…¶å®æ˜¯åœ¨ä¼ å…¥çš„å¯¹è±¡å¢åŠ è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œä»è€Œæ”¹å˜ this çš„æŒ‡å‘ï¼Œæ‰§è¡Œå®Œååœ¨åˆ é™¤å‡½æ•°ï¼Œè¿™ä¸ªåé¢ä¼šæœ‰ä¸€ç« èŠ‚æ¥ä»¿å†™ call,apply å’Œ bind å‡½æ•°ã€‚</p>
<h2 id="3new-å…³é”®å­—">3.new å…³é”®å­—</h2>
<p>é€šè¿‡ new å…³é”®å­—è°ƒç”¨å‡½æ•°ä¼šä»¥æ„é€ å‡½æ•°çš„å½¢å¼è°ƒç”¨ä¼šå‘ç”Ÿä»¥ä¸‹æ­¥éª¤ 1.åˆ›å»ºä¸€ä¸ªå¯¹è±¡ 2.å°†å¯¹è±¡çš„å®ä¾‹åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹<br>
<strong>3.å°†å¯¹è±¡çš„ this ç»‘å®šåˆ°æ„é€ å‡½æ•°å¹¶åˆ›å»ºä¸€ç³»åˆ—å±æ€§</strong> 4.è¿”å›è¿™ä¸ªå¯¹è±¡<br>
å› æ­¤æˆ‘ä»¬å¯ä»¥ new å…³é”®å­—è°ƒç”¨çš„å‡½æ•°ä¹Ÿä¼šæ”¹å˜ this çš„æŒ‡å‘ï¼Œå®ƒæŒ‡å‘åˆ›å»ºå‡ºæ¥çš„å®ä¾‹å¯¹è±¡<br>
ä¸¾ä¸ªæ —å­ï¼š</p>
<pre><code class="language-js">var value = 'global scope';
function A() {
  this.value = 'local scope';
  this.sayValue = function() {
    console.log(this.value);
  };
}

let b = new A();
b.sayValue();
</code></pre>
<p>é€šè¿‡ new å†…éƒ¨å‘ç”Ÿçš„è¿‡ç¨‹æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ä¸Šé¢çš„æ —å­å°† this æŒ‡å‘äº†æ–°åˆ›å»ºå‡ºæ¥çš„å®ä¾‹ b å› æ­¤æ‰“å° value æ—¶å€™å°±æ‰“å°å‡º'local scope'</p>
<h2 id="4-ç®­å¤´å‡½æ•°çš„-this">4ã€ç®­å¤´å‡½æ•°çš„ this</h2>
<p>åœ¨ ES6 ä¸­æ–°å¢äº†ç®­å¤´å‡½æ•°ç”¨æ³•ï¼Œå®ƒæœ¬èº«æ²¡æœ‰ç»‘å®š thisï¼Œå®ƒçš„ this æŒ‡å‘æ˜¯ç¦»çš„å®ƒæœ€è¿‘çš„ä¸€ä¸ªæ™®é€šå‡½æ•°æ‰€ç»‘å®šçš„ thisï¼Œåœ¨ ES5 ä¹‹å‰æˆ‘ä»¬åœ¨ä¸€äº›åŒ¿åå‡½æ•°ä¸ºäº†é˜²æ­¢ this æŒ‡å‘ä¸¢å¤±æˆ‘ä»¬å¯èƒ½ä¼šè¿™æ ·ç»‘å®š this</p>
<pre><code class="language-js">function a() {
  let self = this;
  this.value = 'Hi!';
  setTimeout(function() {
    console.log(self.value);
  }, 0);
}
</code></pre>
<p>åœ¨ ES6 ä¸­è¿™æ ·å°±å¯ä»¥äº†</p>
<pre><code class="language-js">function a() {
  this.value = 'Hi!';
  setTimeout(() =&gt; {
    console.log(this.value);
  }, 0);
}
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p><code>åªè¦è®°ä½ä¸€ç‚¹ã€‚åœ¨ç®­å¤´å‡½æ•°ä¸­çš„thisçš„æŒ‡å‘æ°¸è¿œæ˜¯ç¦»å®ƒæœ€è¿‘çš„ä¸€ä¸ªæ™®é€šå‡½æ•°æ‰€ç»‘å®šçš„this,å¦‚ä¸Šæ —å­ç¦»åŒ¿åå‡½æ•°æœ€è¿‘çš„æ™®é€šå‡½æ•°æ˜¯ aå‡½æ•°ï¼Œ å½“aè¢«è°è°ƒç”¨æ—¶ thiså°±æŒ‡å‘è°</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ‰‹å†™ç®€å•ç‰ˆç¬¦åˆ PromiseA+è§„èŒƒçš„ Promise]]></title>
        <id>https://icyfe.github.io/icyblog/post/shou-xie-jian-dan-ban-fu-he-promiseagui-fan-de-promise/</id>
        <link href="https://icyfe.github.io/icyblog/post/shou-xie-jian-dan-ban-fu-he-promiseagui-fan-de-promise/">
        </link>
        <updated>2020-06-17T08:05:52.000Z</updated>
        <content type="html"><![CDATA[<p>ä»Šå¤©æ‰‹å†™ä¸€ä¸ªç¬¦åˆ promiseA+è§„èŒƒçš„ promiseï¼Œè¿™ä¸ªçŸ¥è¯†ç‚¹å¯èƒ½å¿«è¢«å†™çƒ‚äº†å§ï¼Œä½†è¿˜æ˜¯ä½œä¸ºå­¦ä¹ æ¯”è¾ƒåŠ æ·±è‡ªå·±å¯¹ Promise çš„ç†è§£ã€‚<br>
å…ˆæ¥äº†è§£ Promise æ˜¯ä»€ä¹ˆï¼Œpromise çš„å‡ºç°ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œæœ€åæˆ‘ä»¬æ ¹æ® promiseA+è‡ªå·±æ‰‹å†™å®ç°ä¸€ä¸ª promise</p>
<h2 id="ä¸€-promise-æ˜¯ä»€ä¹ˆ">ä¸€ã€Promise æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>è´´ä¸€æ®µ MDN çš„ä»‹ç»<br>
<code>Promise å¯¹è±¡ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆçŠ¶æ€ï¼ˆå®Œæˆæˆ–å¤±è´¥ï¼‰ï¼Œä»¥åŠå…¶è¿”å›çš„å€¼..... Promise å¯¹è±¡æ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼ˆä»£ç†ä¸€ä¸ªå€¼ï¼‰ï¼Œè¢«ä»£ç†çš„å€¼åœ¨Promiseå¯¹è±¡åˆ›å»ºæ—¶å¯èƒ½æ˜¯æœªçŸ¥çš„ã€‚å®ƒå…è®¸ä½ ä¸ºå¼‚æ­¥æ“ä½œçš„æˆåŠŸå’Œå¤±è´¥åˆ†åˆ«ç»‘å®šç›¸åº”çš„å¤„ç†æ–¹æ³•ï¼ˆhandlersï¼‰ã€‚ è¿™è®©å¼‚æ­¥æ–¹æ³•å¯ä»¥åƒåŒæ­¥æ–¹æ³•é‚£æ ·è¿”å›å€¼ï¼Œä½†å¹¶ä¸æ˜¯ç«‹å³è¿”å›æœ€ç»ˆæ‰§è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½ä»£è¡¨æœªæ¥å‡ºç°çš„ç»“æœçš„promiseå¯¹è±¡ã€‚</code><br>
é€šä¿—ç‚¹æ¥è¯´å°±æ˜¯è§£å†³å¼‚æ­¥æ“ä½œé—®é¢˜çš„ä¸€ä¸ªç±»ã€‚<br>
<a href="url">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise</a></p>
<h2 id="äºŒ-promise-çš„å‡ºç°ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜">äºŒã€Promise çš„å‡ºç°ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>
<p>ç›¸ä¿¡æ¥è§¦è¿‡å¼‚æ­¥æ“ä½œçš„åŒå­¦éƒ½ç»å†è¿‡å›è°ƒåœ°ç‹±ï¼Œä¸€ä¸ªå¼‚æ­¥æ¥ç€ä¸€ä¸ªå¼‚æ­¥å¦‚ä¸‹æ‰€ç¤º</p>
<pre><code class="language-js">asyncFunc1(opt, (...args1) =&gt; {
  asyncFunc2(opt, (...args2) =&gt; {
    asyncFunc3(opt, (...args3) =&gt; {
      asyncFunc4(opt, (...args4) =&gt; {
        // some operation
      });
    });
  });
});
</code></pre>
<p>è¿™æ ·çš„ä»£ç ä¸ä»…éš¾ä»¥ç»´æŠ¤ï¼Œå¯è¯»æ€§ä¹Ÿå·®ç®€ç›´ç—›è‹¦ï¼ŒPromise çš„å‡ºç°é€šè¿‡é“¾å¼è°ƒç”¨å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šè§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œé€šè¿‡ Promise å¯ä»¥å†™æˆè¿™æ ·</p>
<pre><code>asyncFunc1('...â€œ).then(res=&gt; {
    return asyncFunc2(res);
}).then(res =&gt; {
    return asyncFunc3(res);
}).then(res =&gt; {
   return asyncFunc4(res);
}).then(res =&gt;{
console.log(res)
})
</code></pre>
<p>è¿™æ ·çš„æ¯ä¸€æ¬¡çš„ then çš„è¿”å›å€¼éƒ½å¯ä»¥ä½œä¸ºä¸‹ä¸€ä¸ªçš„å¼‚æ­¥æ“ä½œçš„å‚æ•°ï¼Œè¿™æ ·å›è°ƒåœ°ç‹±çš„é—®é¢˜å°±è½»æ˜“è§£å†³äº†ã€‚<br>
æœ¬æ–‡å¯¹ Promise çš„ç”¨æ³•ä¸å¤šåšä»‹ç»è·Ÿå¤šçš„ç”¨æ³•å¯çœ‹é˜®ä¸€å³°è€å¸ˆçš„ es6 å…¥é—¨<a href="url">http://es6.ruanyifeng.com/</a></p>
<h2 id="ä¸‰-æ‰‹å†™ä¸€ä¸ªç¬¦åˆ-promiseaè§„èŒƒçš„-promise">ä¸‰ã€æ‰‹å†™ä¸€ä¸ªç¬¦åˆ PromiseA+è§„èŒƒçš„ Promise</h2>
<p>å¼€å§‹å†™ä¹‹å‰è´´ä¸Š PromiseA+è§„èŒƒçš„é“¾æ¥ <a href="url">http://www.ituring.com.cn/article/66566</a><br>
<strong>1ã€é¦–å…ˆ Promise æœ‰ä¸‰ç§çŠ¶æ€ç­‰å¾…(pending),<br>
æˆåŠŸæ€(fulfilled,è§„èŒƒä¸­ç§°ä¸ºæ‰§è¡Œæ€æˆ‘è®¤ä¸ºè§£é‡Šä¸ºæˆåŠŸæ€æˆ–è€…å®Œæˆæ€æ›´å¥½ç†è§£),<br>
å¤±è´¥(rejected),å¹¶ä¸”åªèƒ½ä¸ºä»¥ä¸Šä¸‰ç§çŠ¶æ€çš„å…¶å®ä¸€ç§ï¼Œç­‰å¾…æ€å¯æ”¹å˜ä¸ºæˆåŠŸæ€æˆ–è€…å¤±è´¥æ€ï¼ŒæˆåŠŸæ€æœ‰æˆåŠŸçš„å€¼ä¸èƒ½æ”¹å˜ä¸ºå…¶ä»–ä»»ä½•çŠ¶æ€ï¼Œå¤±è´¥æ€æœ‰å¤±è´¥çš„å€¼ä¸èƒ½æ”¹å˜ä¸ºå…¶ä»–ä»»ä½•çŠ¶æ€ã€‚<br>
2ã€Promise æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°æ–‡æ¡£ä¸­ç§°ä¸ºâ€˜executorâ€™ç¿»è¯‘è¿‡æ¥å°±æ˜¯æ‰§è¡Œè€…è¯´æ˜åœ¨æ„é€ å‡½æ•°ä¸€è°ƒç”¨çš„æ—¶å€™å°±è¢«æ‰§è¡Œï¼Œè¿™ä¸ª executor å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ resolve,rejectï¼Œå½“ executor å‡½æ•°ä¸­çš„ resovle å‡½æ•°è¢«è°ƒç”¨æ—¶çŠ¶æ€æ”¹å˜ä¸ºæˆåŠŸæ€(fulfiiled)ï¼Œreject å‡½æ•°è¢«è°ƒç”¨æ—¶çŠ¶æ€å°±æ”¹å˜ä¸ºå¤±è´¥æ€(rejected),å½“ executor å‡½æ•°æ‰§è¡Œå‡ºé”™æ—¶å°±ç›´æ¥è°ƒç”¨ reject æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬è¦æ•è· executor å‡½æ•°æ‰§è¡Œæ—¶çš„å¼‚å¸¸ã€‚</strong></p>
<p>æ ¹æ®è¿™ä¸¤æ¡æˆ‘ä»¬å†™åˆå§‹çš„ä»£ç </p>
<pre><code class="language-js">class Promise {
  constructor(executor) {
    //çŠ¶æ€
    this.status = 'pending';
    //å¤±è´¥çš„å€¼
    this.reason = null;
    //æˆåŠŸçš„å€¼
    this.value = null;

    let resolve = value =&gt; {
      if (this.status == 'pending') {
        this.status = 'fulfilled';
        this.value = value;
      }
    };
    let reject = reason =&gt; {
      if (this.status == 'pending') {
        this.status = 'rejected';
        this.reason = reason;
      }
    };
    //å½“è°ƒç”¨æ„é€ å‡½æ•°æ—¶å°±è°ƒç”¨executorå‡½æ•°å¹¶æ•è·å¼‚å¸¸
    try {
      executor(resolve, reject);
    } catch (error) {
      reject(error);
    }
  }
}
</code></pre>
<p><strong>3ã€promiseA+è§„å®šå¿…é¡»è¦æœ‰ä¸€ä¸ª then æ–¹æ³•å¯ä»¥è®¿é—®å…¶æˆåŠŸæˆ–å¤±è´¥æ—¶å€™çš„è¿”å›å€¼ï¼Œthen æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¸º onFulfilled å’Œ onRejectdï¼Œå¹¶ä¸”è¿˜è§„å®šäº†å½“ä¸¤ä¸ªå‚æ•°ä¸æ˜¯å‡½æ•°æ—¶å…¶å€¼è¢«å¿½ç•¥</strong><br>
<strong>4ã€å½“ onFulfilled å’Œ onRejected æ˜¯å‡½æ•°æ—¶ï¼ŒonFulfilled å‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨ promise æ‰§è¡ŒæˆåŠŸç»“æŸåï¼Œå¹¶å°† promise çš„è¿”å›å€¼ä½œä¸ºç»ˆå€¼ï¼ŒonReject å‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå½“ promise è¢«æ‹’ç»æ‰§è¡Œåå…¶å¿…é¡»è¢«è°ƒç”¨ï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•°ä¸º promise çš„æ®å› ã€‚</strong></p>
<p>æ ¹æ®è¿™ä¸¤æ¡æˆ‘ä»¬æ¥å†™ then çš„åˆå§‹æ–¹æ³•</p>
<pre><code class="language-js">//thenæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°onFulfilled,onRejected
 then(onFulfilled, onRejected) {
     //å¦‚æœéå‡½æ•°å°±ç›´æ¥è¿”å›å€¼
     onFulfilled = typeof onFulfilled == 'function' ? onFulfilled : v =&gt; v
     // é”™è¯¯çš„å°±ç›´æ¥æŠ›é”™ä¸åœ¨æ‰§è¡Œ
     onRejected = typeof onRejected == 'function' ? onRejected : err =&gt; { throw err }
     //æˆåŠŸåç«‹å³æ‰§è¡Œ,å¹¶å°†å…¶ç»“æœä½œä¸ºå‚æ•°
     if (this.status == 'fulfilled') {
         onFulfilled(this.value)
     }
     // å¤±è´¥åç«‹å³æ‰§è¡Œ,å¹¶å°†å…¶æ‹’å› ä½œä¸ºå‚æ•°
     if (this.status == 'rejected') {
         onRejected(this.reason)
     }
 }
}
</code></pre>
<p><strong>5ã€then æ–¹æ³•å¯ä»¥è¢«åŒä¸€ä¸ª promise å¤šæ¬¡è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤º<br>
let p = new Promise()<br>
p.then()<br>
p.then()<br>
å½“ promise æˆåŠŸæ‰§è¡Œæ—¶ï¼Œæ‰€æœ‰ onFulfilled éœ€æŒ‰ç…§å…¶æ³¨å†Œé¡ºåºä¾æ¬¡å›è°ƒ<br>
å½“ promise è¢«æ‹’ç»æ‰§è¡Œæ—¶ï¼Œæ‰€æœ‰çš„ onRejected éœ€æŒ‰ç…§å…¶æ³¨å†Œé¡ºåºä¾æ¬¡å›è°ƒ</strong></p>
<p>ä»¥ä¸Šä»£ç åªèƒ½è§£å†³åŒæ­¥é—®é¢˜ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬å¼‚æ­¥æ‰§è¡Œçš„æ—¶å€™æˆ‘ä»¬è¦æœ‰ä¸¤ä¸ªé˜Ÿåˆ—(å½“å¤šæ¬¡è°ƒç”¨çš„æ—¶å€™)åœ¨ç­‰å¾…çŠ¶æ€çš„æ—¶å€™åˆ†åˆ«å­˜æ”¾æˆåŠŸå’Œå¤±è´¥æ—¶å€™çš„å›è°ƒï¼Œå¹¶åœ¨çŠ¶æ€æ”¹å˜çš„æ—¶å€™ä¾æ¬¡å–å‡ºæ¥æ‰§è¡Œ</p>
<p>åœ¨æ„é€ å‡½æ•°æ·»åŠ ä»£ç </p>
<pre><code class="language-js">//æˆåŠŸå›è°ƒå­˜æ”¾
this.resolvedCallbacks = [];
//å¤±è´¥å›è°ƒå­˜æ”¾
this.rejectedCallbacks = [];
let resolve = value =&gt; {
  if (this.status == 'pending') {
    this.status = 'fulfilled';
    this.value = value;
    //ä¾æ¬¡å–å‡ºå›è°ƒæ‰§è¡Œ
    this.resolvedCallbacks.map(cb =&gt; cb());
  }
};
let reject = reason =&gt; {
  if (this.status == 'pending') {
    this.status = 'rejected';
    this.reason = reason;
    //ä¾æ¬¡å–å‡ºå›è°ƒæ‰§è¡Œ
    this.rejectedCallbacks.map(cb =&gt; cb());
  }
};
</code></pre>
<p>åœ¨ then å‡½æ•°æ·»åŠ  pending çŠ¶æ€åˆ¤æ–­</p>
<pre><code class="language-js">//å½“æ—¶ç­‰å¾…çŠ¶æ€æ—¶å€™å­˜æ”¾å¤±è´¥æˆ–æˆåŠŸçš„å›è°ƒ
if (this.status == 'pending') {
  this.rejectedCallbacks.push(() =&gt; {
    onRejected(this.reason);
  });
  this.resolvedCallbacks.push(() =&gt; {
    onFulfilled(this.value);
  });
}
</code></pre>
<p><strong>6ã€è§„èŒƒè§„å®š then å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“è§„èŒƒä¸­çš„ promise æ˜¯å’Œé“¾å¼è°ƒç”¨çš„å¦‚ p.then().then()è¿™æ ·å½¢å¼çš„è°ƒç”¨ç”¨æ¥è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è¿”å›ä¸€ä¸ª promise å¯¹è±¡å¯ä¾›é“¾å¼è°ƒç”¨ï¼Œè§„èŒƒä¸­ç§°å®ƒä¸º promise2 <code>promise2 = promise1.then(onFulfilled, onRejected);</code><br>
7ã€then ä¼šæœ‰ä¸ªè¿”å›å€¼è§„èŒƒä¸­ç§°å®ƒä¸º x å¹¶ä½œä¸ºä¸‹ä¸€ä¸ª promise çš„å‚æ•°è¿›è¡Œä¼ é€’ï¼Œ<br>
è¿™ä¸ª x å€¼å°±æ˜¯ onFulfilled æˆ–è€… onRejected æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œ<br>
å¹¶ä¸”è¿™ä¸ª x å€¼éœ€è¦åšåˆ¤æ–­ï¼Œåˆ¤æ–­çš„å‡½æ•°ä¸º resolvePromiseï¼Œ<br>
å¦‚æœ x æ˜¯æ™®é€šå€¼å°±ç›´æ¥ä½œä¸º promise2 çš„ç»ˆå€¼ï¼Œå¦‚æœ x æ˜¯ promise å°±å–å¾— x çš„æœ€ç»ˆçŠ¶æ€ä½œä¸º promise2 çš„ç»“æœã€‚ resolvePromise æœ‰å››ä¸ªå‚æ•° promise2,x,resolve,reject,å…¶ä¸­ resolve å’Œ reject ä¸º promise2 çš„ã€‚</strong></p>
<p>æ ¹æ®è¿™ä¸¤æ¡å¾—å‡ºä»¥ä¸‹ä»£ç </p>
<pre><code class="language-js"> //thenæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°onFulfilled,onRejected
    then(onFulfilled, onRejected) {
        // è¿”å›promiseå¯¹è±¡
        let promise2 = new Promise((resolve, reject) =&gt; {
            //å¦‚æœéå‡½æ•°å°±ç›´æ¥è¿”å›å€¼
            onFulfilled = typeof onFulfilled == 'function' ? onFulfilled : v =&gt; v
            // é”™è¯¯çš„å°±ç›´æ¥æŠ›é”™ä¸åœ¨æ‰§è¡Œ
            onRejected = typeof onRejected == 'function' ? onRejected : err =&gt; { throw err }
            //æˆåŠŸåç«‹å³æ‰§è¡Œ,å¹¶å°†å…¶ç»“æœä½œä¸ºå‚æ•°
            if (this.status == 'fulfilled') {
                //x ä¸ºonFufilledçš„å€¼
                let x = onFulfilled(this.value)
                // åˆ¤æ–­xçš„å‡½æ•°
                resolvePromise(promise2, x, resolve, reject)
            }
            // å¤±è´¥åç«‹å³æ‰§è¡Œ,å¹¶å°†å…¶æ‹’å› ä½œä¸ºå‚æ•°
            if (this.status == 'rejected') {
                onRejected(this.reason)
                resolvePromise(promise2, x, resolve, reject)
            }
            //å½“æ—¶ç­‰å¾…çŠ¶æ€æ—¶å€™å­˜æ”¾å¤±è´¥æˆ–æˆåŠŸçš„å›è°ƒ
            if (this.status == 'pending') {
                this.rejectedCallbacks.push(() =&gt; {
                    let x = onRejected(this.reason)
                    resolvePromise(promise2, x, resolve, reject)
                })
                this.resolvedCallbacks.push(() =&gt; {
                    onFulfilled(this.value)
                    resolvePromise(promise2, x, resolve, reject)
                })
            }
        })
        return promise2
    }
</code></pre>
<p><strong>8ã€resolvePromise å®ç°çš„åŠŸèƒ½ä¸»è¦å°±æ˜¯åˆ¤æ–­ x çš„å€¼è§„èŒƒè§„å®šäº†ä»¥ä¸‹å‡ ç‚¹ 1.å¦‚æœ x æŒ‡å‘åŒä¸€å¯¹è±¡å°±æŠ›é”™ï¼Œé˜²æ­¢ç›¸äº’å¼•ç”¨çš„æƒ…å†µå‡ºç°ï¼Œå¹¶ä¸” x ä¸ä¸ºç©ºï¼Œ 2.å¦‚æœ x æ˜¯æ™®é€šå€¼å°±ç›´æ¥ resolve 3.å¦‚æœ x æ˜¯å‡½æ•°æˆ–è€…å¯¹è±¡(åŒ…æ‹¬ promise)<br>
.å®šä¹‰ then å¹¶ä½¿å¾— then = x.then()----promiseA+åŸæ–‡â€˜Otherwise, if x is an object or function,Let then be x.thenâ€™ï¼Œå¹¶æ•è·å– then è¿‡ç¨‹çš„å¼‚å¸¸å¦‚æœå‡ºé”™å°±ç›´æ¥ reject()<br>
.å¦‚æœ then æ˜¯å‡½æ•°å°±è°ƒç”¨ call æ‰§è¡Œ this ä¸ºå½“å‰çš„ x,åé¢åˆ†åˆ«æ˜¯æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒï¼Œå¦‚æœ then éå‡½æ•°å°±ç›´æ¥ resolve<br>
.å¹¶ä¸”æˆåŠŸå’Œå¤±è´¥åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå› æ­¤æˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ª called æ¥æ ‡è®°æ˜¯å¦å·²ç»æ‰§è¡Œè¿‡æˆåŠŸæˆ–å¤±è´¥çš„å›è°ƒï¼Œå¦‚æœæˆåŠŸçš„è¿”å›å€¼ä»ç„¶æ˜¯ Promise å°±é€’å½’è°ƒç”¨ resovlePromise å‡½æ•°</strong></p>
<p>æ ¹æ®è¿™æ¡æˆ‘ä»¬æ¥å†™ resovlePromise å‡½æ•°</p>
<pre><code class="language-js">function resolvePromise(promise2, x, resolve, reject) {
  if (x == promise2) {
    return new TypeError('Error');
  }
  let called = false; //å®šä¹‰æ ‡å¿—ï¼Œé˜²æ­¢é‡å¤è°ƒç”¨
  // x ä¸èƒ½ä¸ºç©ºï¼Œä¸”ä¸ºå¯¹è±¡æˆ–è€…å‡½æ•°æ—¶ï¼Œä¸ºæ™®é€šå€¼å°±ç›´æ¥resovle
  if (x != null &amp;&amp; (typeof x == 'object' || typeof x == 'function')) {
    //å®šä¹‰then å¹¶æ•è·å¼‚å¸¸
    try {
      let then = x.then();
      //å¦‚æœthenä¸ºå‡½æ•°ï¼Œé»˜è®¤ä¸ºpromiseå¯¹è±¡å°±ç»§ç»­é€’å½’è§£æ
      if (typeof then == 'function') {
        then.call(
          x,
          y =&gt; {
            //åªå…è®¸è¢«è°ƒç”¨ä¸€æ¬¡
            if (called) return;
            called = true;
            resolvePromise(promise2, y, resolve, reject);
          },
          err =&gt; {
            if (called) return;
            called = true;
            reject(err);
          }
        );
      } else {
        if (called) return;
        called = true;
        resolve(x);
      }
    } catch (error) {
      if (called) return;
      called = true;
      reject(error);
    }
  } else {
    resolve(x);
  }
}
</code></pre>
<p>å¥½äº†è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªç¬¦åˆè§„èŒƒçš„ Promise</p>
<p>é™„ä¸Š all,race,resolve,rejectï¼Œcatch,finlly ä»£ç </p>
<pre><code class="language-js">Promise.resolve = function(v) {
  return new Promise((resolve, reject) =&gt; {
    resolve(v);
  });
};
Promise.reject = function(err) {
  return new Promise((resolve, reject) =&gt; {
    resolve(err);
  });
};
Promise.race = function(promises) {
  return new Promise((resolve, reject) =&gt; {
    for (let i = 0; i &lt; promises.length; i++) {
      promises[i].then(resolve, reject);
    }
  });
};
Promise.all = function(promises) {
  let arr = [];
  let index = 0;
  return new Promise((resolve, reject) =&gt; {
    for (let i = 0; i &lt; promises.length; i++) {
      promises[i].then(data =&gt; {
        addResult(i, data);
      }, reject);
    }
    function addResult(i, data) {
      if (index == arr.length) {
        resolve(arr);
      }
      index++;
      arr[i].push(data);
    }
  });
};
Promise.catch = function(errFn) {
  return this.then(null, errFn);
};
Promise.finally = function(fn) {
  this.then(
    () =&gt; {
      fn();
    },
    () =&gt; {
      fn();
    }
  );
  return this;
};
</code></pre>
<p>å®Œæ•´ä»£ç </p>
<pre><code class="language-js">
class Promise {
    constructor(executor) {
        //çŠ¶æ€
        this.status = 'pending'
        //å¤±è´¥çš„å€¼
        this.reason = null
        //æˆåŠŸçš„å€¼
        this.value = null
        //æˆåŠŸå›è°ƒå­˜æ”¾
        this.resolvedCallbacks = []
        //å¤±è´¥å›è°ƒå­˜æ”¾
        this.rejectedCallbacks = []
        let resolve = (value) =&gt; {
            if (this.status == 'pending') {
                this.status = 'fulfilled'
                this.value = value
                //ä¾æ¬¡å–å‡ºå›è°ƒæ‰§è¡Œ
                this.resolvedCallbacks.map(cb =&gt; cb())
            }
        }
        let reject = (reason) =&gt; {
            if (this.status == 'pending') {
                this.status = 'rejected'
                this.reason = reason
                //ä¾æ¬¡å–å‡ºå›è°ƒæ‰§è¡Œ
                this.rejectedCallbacks.map(cb =&gt; cb())
            }
        }
        //å½“è°ƒç”¨æ„é€ å‡½æ•°æ—¶å°±è°ƒç”¨executorå‡½æ•°å¹¶æ•è·å¼‚å¸¸
        try {
            executor(resolve, reject)
        } catch (error) {
            reject(error)
        }
    }
    //thenæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°onFulfilled,onRejected
    then(onFulfilled, onRejected) {
        // è¿”å›promiseå¯¹è±¡
        let promise2 = new Promise((resolve, reject) =&gt; {
            //å¦‚æœéå‡½æ•°å°±ç›´æ¥è¿”å›å€¼
            onFulfilled = typeof onFulfilled == 'function' ? onFulfilled : v =&gt; v
            // é”™è¯¯çš„å°±ç›´æ¥æŠ›é”™ä¸åœ¨æ‰§è¡Œ
            onRejected = typeof onRejected == 'function' ? onRejected : err =&gt; { throw err }
            //æˆåŠŸåç«‹å³æ‰§è¡Œ,å¹¶å°†å…¶ç»“æœä½œä¸ºå‚æ•°
            if (this.status == 'fulfilled') {
                //x ä¸ºonFufilledçš„å€¼
                let x = onFulfilled(this.value)
                // åˆ¤æ–­xçš„å‡½æ•°
                resolvePromise(promise2, x, resolve, reject)
            }
            // å¤±è´¥åç«‹å³æ‰§è¡Œ,å¹¶å°†å…¶æ‹’å› ä½œä¸ºå‚æ•°
            if (this.status == 'rejected') {
                onRejected(this.reason)
                resolvePromise(promise2, x, resolve, reject)
            }
            //å½“æ—¶ç­‰å¾…çŠ¶æ€æ—¶å€™å­˜æ”¾å¤±è´¥æˆ–æˆåŠŸçš„å›è°ƒ
            if (this.status == 'pending') {
                this.rejectedCallbacks.push(() =&gt; {
                    let x = onRejected(this.reason)
                    resolvePromise(promise2, x, resolve, reject)
                })
                this.resolvedCallbacks.push(() =&gt; {
                    onFulfilled(this.value)
                    resolvePromise(promise2, x, resolve, reject)
                })
            }
        })
        return promise2
    }
}
function resolvePromise(promise2, x, resolve, reject) {
    if (x == promise2) {
        return new TypeError('Error')
    }
    let called = false //å®šä¹‰æ ‡å¿—ï¼Œé˜²æ­¢é‡å¤è°ƒç”¨
    // x ä¸èƒ½ä¸ºç©ºï¼Œä¸”ä¸ºå¯¹è±¡æˆ–è€…å‡½æ•°æ—¶ï¼Œä¸ºæ™®é€šå€¼å°±ç›´æ¥resovle
    if (x != null &amp;&amp; (typeof x == 'object' || typeof x == 'function')) {
        //å®šä¹‰then å¹¶æ•è·å¼‚å¸¸
        try {
            let then = x.then()
            //å¦‚æœthenä¸ºå‡½æ•°ï¼Œé»˜è®¤ä¸ºpromiseå¯¹è±¡å°±ç»§ç»­é€’å½’è§£æ
            if (typeof then == 'function') {
                then.call(x, y =&gt; {
                    //åªå…è®¸è¢«è°ƒç”¨ä¸€æ¬¡
                    if (called) return
                    called = true
                    resolvePromise(promise2, y, resolve, reject)
                }, err =&gt; {
                    if (called) return
                    called = true
                    reject(err)
                })
            } else {
                if (called) return
                called = true
                resolve(x)
            }
        } catch (error) {
            if (called) return
            called = true
            reject(error)
        }
    } else {
        resolve(x)
    }
}
Promise.resolve = function (v) {
    return new Promise((resolve, reject) =&gt; {
        resolve(v)
    })
}
Promise.reject = function (err) {
    return new Promise((resolve, reject) =&gt; {
        reject(err)
    })
}
Promise.race = function (promises) {
    return new Promise((resolve, reject) =&gt; {
        for (let i = 0; i &lt; promises.length; i++) {
            Promise.resolve(promises[i]).then((resolve,reject));
        }
    })
}
Promise.all = function (promises) {
    let arr = []
    let index = 0;
   let resultarr =[];
   let count = 0;
   len asynclen = promises.length
    return new Promise((resolve, reject) =&gt; {
        for (let i = 0; i &lt;asynclen ; i++) {
            promises[i].then((value) =&gt; {
                count++;
                resultarr.push(value);
               if(count==asynclen ){
                      resolve(resultarr)
                 }
            }, reject)
        }
    })
}
Promise.catch = function (errFn) {
    return this.then(null, errFn);
}
Promise.finally = function (fn) {
    this.then(() =&gt; {
        fn();
    }, () =&gt; {
        fn();
    });
    return this;
}

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å®ç°ä¸€ä¸ªç®€å•çš„ MVVM]]></title>
        <id>https://icyfe.github.io/icyblog/post/shi-xian-yi-ge-jian-dan-de-mvvm/</id>
        <link href="https://icyfe.github.io/icyblog/post/shi-xian-yi-ge-jian-dan-de-mvvm/">
        </link>
        <updated>2020-06-17T08:05:10.000Z</updated>
        <content type="html"><![CDATA[<p>ç”¨è¿‡ vue çš„éƒ½çŸ¥é“åŒå‘ç»‘å®šï¼ŒåŒå‘ç»‘å®šå°±æ˜¯å½“ view çš„æ•°æ®æ”¹å˜çš„æ—¶å€™ data çš„æ•°æ®ä¹Ÿä¼šåŒæ—¶å˜åŒ–ã€‚vue çš„åŒå‘ç»‘å®šå…¶å®å°±æ˜¯åŸºäº Object.defineProperty çš„æ•°æ®åŠ«æŒåŠ ä¸Šå‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ç°çš„ã€‚æˆ‘ä»¬åŸºäºè¿™ä¸¤ç‚¹æ¥ç†ä¸€ä¸‹å®ç°çš„æ€è·¯ï¼Œæˆ‘ä»¬è¦ä¸€ä¸ªæ•°æ®çš„è§‚å¯Ÿè€… observe æ¥å®ç°å¯¹æ•°æ®çš„åŠ«æŒï¼Œ å½“æ•°æ®å˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦æœ‰ä¸€ä¸ªäº‹ä»¶çš„æ´¾å‘è€…é€šçŸ¥è®¢é˜…è€…å®æ—¶æ›´æ–°æ•°æ®ï¼ŒåŒæ—¶æˆ‘ä»¬åº”è¯¥è¿˜è¦æœ‰ä¸€ä¸ª complie æ¥è¿›è¡ŒæŒ‡ä»¤è§£æï¼Œå°†è¿™äº›å…³è”èµ·æ¥ï¼Œå…ˆæ¥çœ‹çœ‹æœ€ç»ˆå®ç°çš„æ•ˆæœ<br>
<img src="https://user-images.githubusercontent.com/44893721/55455070-bc4cdf80-5614-11e9-89ea-fb72997507f3.png" alt="L$IT(BW0 Q %TT7Q A9W_9Y" loading="lazy"><br>
<img src="https://user-images.githubusercontent.com/44893721/55455171-2f565600-5615-11e9-8b95-5669d8479f31.gif" alt="aaa" loading="lazy"></p>
<p>é¦–å…ˆä¸ºäº†èƒ½åƒ vue ä¸€æ ·è°ƒç”¨ï¼Œæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ª mvvm ç±»ï¼Œé‡Œé¢åˆå§‹åŒ–ä¼ å…¥çš„å‚æ•°ã€‚</p>
<pre><code class="language-js">class Mvvm {
  constructor(option) {
    this.methods = option.methods; //æ–¹æ³•
    this.data = option.data; // æ•°æ®
    this.target = null; //è®°å½•watcher
    this.element = document.getElementById(option.el); //è·å–æ ¹å…ƒç´ 
    this.observe(this, this.data); //è®¾ç«‹è§‚å¯Ÿè€…å¯¹dataé‡Œé¢çš„æ•°æ®è¿›è¡ŒåŠ«æŒ
    this.compile(this.element); //æŒ‡ä»¤è§£æï¼Œæ•´åˆ
  }
}
</code></pre>
<h2 id="observe">Observe</h2>
<p>Observe å–å‡º data ä¸­æ‰€æœ‰çš„å±æ€§å¹¶å¯¹å…¶è¿›è¡ŒåŠ«æŒï¼Œåœ¨ Mvvm ç±»ä¸­æ·»åŠ  observe æ–¹æ³•</p>
<pre><code class="language-js">    observe(root, data) {
        for (let key in data) {
            this.definedRective(root, key, data[key])
        }
    }
    definedRective(root, key, value) {
        if (typeof value == 'object') {
            this.observe(value, value) //å¦‚æœè¿˜æœ‰å­å±æ€§è¿˜æ˜¯å¯¹è±¡é€’å½’å–å‡º
        }
        Object.defineProperty(root, key, {
            set(newVal) {
             if (value == newVal) return //å¦‚æœæ•°æ®æ²¡æ”¹å˜å°±ç›´æ¥è¿”å›
                value = newVal // è®°å½•æ”¹å˜çš„å€¼
            },
            get() {
                return value
            }
        })
    }
</code></pre>
<p>è¿™é‡Œ observe å–å‡º data ä¸­çš„å±æ€§æ•°æ®ï¼Œå¦‚æœå­å±æ€§è¿˜æ˜¯ä¸ªå¯¹è±¡å°±è¿›è¡Œé€’å½’ï¼Œè¿™æ ·å­å±æ€§å¦‚æœå‘ç”Ÿäº†å˜åŒ–ä¹Ÿèƒ½ç›‘å¬çš„åˆ°äº†ã€‚è¿™ä¸ªéƒ¨åˆ†æˆ‘ä»¬å·²ç»å¯ä»¥åœ¨æ•°æ®å˜åŒ–çš„æ—¶å€™å¯¹æ•°æ®è¿›è¡Œæ‹¦æˆªï¼Œä½†æ˜¯æˆ‘ä»¬è¦æœ‰ä¸€ä¸ªäº‹ä»¶çš„æ¥æ”¶å’Œæ´¾å‘è°ƒåº¦å‘˜ï¼Œè®©è®¢é˜…æ¶ˆæ¯çš„äººå¯ä»¥å®æ—¶çš„çŸ¥é“æ•°æ®æ›´æ–°ã€‚</p>
<h2 id="dispatcher">Dispatcher</h2>
<p>Dispatcher ä¸»è¦åšçš„äº‹æƒ…å°±æ˜¯å¯¹äº‹ä»¶çš„æ¥å—å’Œå‘å¸ƒï¼Œè®©ç›‘å¬çš„äººå¯ä»¥å®æ—¶çš„çŸ¥é“æ•°æ®çš„æ›´æ–°å¹¶åŒæ­¥çš„å¯¹ dom çš„æ•°æ®è¿›è¡Œæ›´æ–°ã€‚</p>
<pre><code class="language-js">class Dispatcher {
  constructor() {
    this.watchers = []; //ç›‘å¬è€…é˜Ÿåˆ—
  }
  add(watcher) {
    this.watchers.push(watcher); //æ¥å—ç›‘å¬è€…
  }
  notify(value) {
    console.log('æ›´æ–°');
    this.watchers.forEach(watcher =&gt; {
      watcher.update(value);
    }); //é€šçŸ¥æ›´æ–°
  }
}
</code></pre>
<p>Dispatcher å…¶å®å°±ç›¸å½“äºä¸€ä¸ªè°ƒåº¦å‘˜èµ‹å€¼äº‹ä»¶çš„æ¥å—å’Œå‘å¸ƒï¼Œæ¯å½“æœ‰æ–°çš„ watcher å°±æ·»åŠ è¿›é˜Ÿåˆ—ï¼Œå½“æ•°æ®æ›´æ–°æ—¶ï¼Œç»Ÿä¸€é€šçŸ¥è¿™äº› watcher æˆ‘æ•°æ®æ›´æ–°å•¦ä½ ä¹Ÿå¿«æ›´æ–°å§ã€‚æœ‰äº†è°ƒåº¦å‘˜ï¼Œç°åœ¨ç¼ºä¸ªè®¢é˜…çš„æˆ‘ä»¬æ¥çœ‹ä¸‹ watcher æ€ä¹ˆå®ç°</p>
<h2 id="watcher">Watcher</h2>
<p>watcher å…¶å®å¾ˆç®€å•å°±åšä¸€ä»¶äº‹å¯¹èŠ‚ç‚¹çš„æ•°æ®è¿›è¡Œæ›´æ–°</p>
<pre><code class="language-js">class Watcher {
  constructor(node, type) {
    this.node = node; //ç›‘å¬çš„å­èŠ‚ç‚¹
    this.type = type; // å­èŠ‚ç‚¹ç±»å‹ï¼Œä¸åŒå­èŠ‚ç‚¹ç±»å‹èµ‹å€¼æ–¹å¼ä¸åŒ
  }
  update(value) {
    if (this.type == 'input') {
      this.node.value = value;
    }
    if (this.type == 'text') {
      this.node.nodeValue = value;
    }
  }
}
</code></pre>
<p>ç°åœ¨æœ‰äº† watcher,å’Œ dispatcher æˆ‘ä»¬åœ¨å¯¹æ•°æ®è¿›è¡ŒåŠ«æŒçš„æ—¶å€™åœ¨ set get ä¸­è¿›è¡Œäº‹ä»¶çš„å‘å¸ƒå’Œè®¢é˜…</p>
<pre><code class="language-js">    definedRective(root, key, value) {
        if (typeof value == 'object') {
            this.observe(value, value)
        }
        const dep = new Dispatcher();//äº‹ä»¶æ´¾å‘è€…
        Object.defineProperty(root, key, {
            set(newVal) {
                if (value == newVal) return //å¦‚æœæ•°æ®æ²¡æ”¹å˜å°±ç›´æ¥è¿”å›
                value = newVal // è®°å½•æ”¹å˜çš„å€¼
                dep.notify(newVal) //å‘å¸ƒäº‹ä»¶
            },
            get() {
                console.log('get', value)
                dep.add(this.target) //æ·»åŠ è®¢é˜…è€…
                return value
            }
        })
    }
</code></pre>
<p>æœ€åå®ç° complie å¯¹ v-model ç­‰æŒ‡ä»¤è¿›è¡Œè§£æï¼Œå¹¶æ–°å»ºè®¢é˜…è€…</p>
<pre><code class="language-js">    compile(element) {
        const childNodes = element.childNodes;//è·å–æ‰€æœ‰å­èŠ‚ç‚¹
        for (let node of childNodes) {
            if (node.nodeType == 1) {// nodetypeå±æ€§åœ¨æ–‡æœ«æœ€åä¼šé™„ä¸Šè§£é‡Šï¼Œè¿™é‡Œçš„1ä»£è¡¨æ™®é€šå…ƒç´ 
                const attrs = node.attributes;//è·å–æ‰€æœ‰èŠ‚ç‚¹å±æ€§
                for (let attr of attrs) {
                    if (attr.name == 'v-model') { //è§£æv-modelçš„æŒ‡ä»¤
                        const name = attr.value
                        node.addEventListener('input', (e) =&gt; {
                            this[name] = e.target.value //ç›‘å¬æ•°æ®inputæ•°æ®æ”¹å˜
                        })
                        this.target = new Watcher(node, 'input')
                        this[name] //è§¦å‘åŠ«æŒæ·»åŠ ç›‘å¬,ä¸€å®šè¦å†™è¿™ä¸€å¥ï¼Œå› ä¸ºè¿™å¥å…¶å®å°±æ˜¯è·å–dataé‡Œé¢çš„å€¼ï¼Œä¸€æ—¦è·å–dataçš„å€¼å°±ä¼šè§¦å‘get å°†è®¢é˜…è€…æ·»åŠ è¿›è®¢é˜…è€…é›†åˆ
                    }
                    if (attr.name == '@click') {
                        const name = attr.value
                        node.addEventListener('click', this.methods[name].bind(this))
                    }
                }
            }
            if (node.nodeType == 3) {//nodeTypeç­‰äº3è¡¨ç¤ºæ–‡æœ¬å…ƒç´ 
                const reg = /\{\{(.*)\}\}/
                const match = node.nodeValue.match(reg)
                if (match) {
                    const name = match[1].trim()
                    this.target = new Watcher(node, 'text')
                    node.nodeValue = this.data[name]
                    this[name] //è§¦å‘åŠ«æŒæ·»åŠ ç›‘å¬
                }
            }
        }
    }
</code></pre>
<h2 id="nodetype-å±æ€§">nodetype å±æ€§</h2>
<figure data-type="image" tabindex="1"><img src="https://user-images.githubusercontent.com/44893721/55458438-9d077f80-561f-11e9-96c0-1e9948093bea.jpg" alt="1554273976(1)" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾]]></title>
        <id>https://icyfe.github.io/icyblog/post/zuo-yong-yu-yu-zuo-yong-yu-lian/</id>
        <link href="https://icyfe.github.io/icyblog/post/zuo-yong-yu-yu-zuo-yong-yu-lian/">
        </link>
        <updated>2020-06-17T08:04:34.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ">ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ</h2>
<p>ä½œç”¨åŸŸæ˜¯å˜é‡å’Œå‡½æ•°å¯å½±å“çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯å½“å‰æ‰§è¡Œç¯å¢ƒçš„å˜é‡å’Œå‡½æ•°å¯è§æ€§ã€‚å…¶å®ä¹Ÿå°±æ˜¯æ‰§è¡Œç¯å¢ƒå½“å‰å˜é‡å¯¹è±¡å¯è®¿é—®èŒƒå›´ï¼Œå³ä½œç”¨åŸŸæ§åˆ¶ç€å½“å‰å˜é‡å¯¹è±¡å¯è§æ€§å’Œç”Ÿå‘½å‘¨æœŸã€‚ä¸Šé¢ä¸€æ®µè¯å¯èƒ½æœ‰ç‚¹ç»•ï¼Œè¯´ç™½äº†å°±æ˜¯ä½ å®šä¹‰çš„å˜é‡å’Œå‡½æ•°èƒ½ç»™è¢«è®¿é—®çš„èŒƒå›´ï¼Œä¸€èˆ¬åˆ†ä¸ºå…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œåœ¨ ES6 åˆæ–°å¢äº†å—çº§ä½œç”¨åŸŸ<br>
<strong>å…¨å±€ä½œç”¨åŸŸ</strong></p>
<pre><code class="language-js">var a = 'global scope';
function b() {
  console.log(a); // 'global scope'
}
b();
</code></pre>
<p>ä¸Šé¢ä¸€æ®µä»£ç  åœ¨å…¨å±€å®šä¹‰çš„å˜é‡åœ¨å“ªéƒ½èƒ½è®¿é—®çš„åˆ°ï¼Œå®ƒçš„ä½œç”¨åŸŸå°±æ˜¯å…¨å±€çš„<br>
<strong>å‡½æ•°ä½œç”¨åŸŸ</strong></p>
<pre><code class="language-js">var a = 'global scope';
function b() {
  console.log(a); // 'global scope'
  var c = ' local scope';
  console.log(c); // 'local scope'
}
b();
console.log(c); // error
</code></pre>
<p>è¿™æ®µä»£ç åœ¨å‡½æ•° b ä¸­å®šä¹‰äº† c é‚£ä¹ˆä»–çš„ä½œç”¨èŒƒå›´å°±åªé™äºå‡½æ•° bï¼Œåœ¨å…¨å±€æ˜¯æ— æ³•è®¿é—®åˆ°çš„ï¼Œå› æ­¤å®ƒçš„ä½œç”¨åŸŸæ˜¯å±€éƒ¨çš„ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾">ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾</h2>
<p>ç”±ä¸€ä¸ªä¸ªä½œç”¨åŸŸçš„å˜é‡å¯¹è±¡æ‰€æ„æˆçš„é“¾å¼å¯¹è±¡ï¼Œå®ƒå†³å®šäº†å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰æƒè®¿é—®çš„å˜é‡å’Œå‡½æ•°æœ‰åºçš„è®¿é—®ã€‚<br>
åœ¨é«˜ç¨‹ä¸‰ç¬¬ä¸ƒç« æœ‰ä¸€æ®µè¯å¤§æ¦‚æ„æ€å¦‚ä¸‹ï¼š<br>
<strong>å½“æˆ‘ä»¬åˆ›å»ºå‡½æ•°æ—¶ï¼Œå†…éƒ¨ä¼šåˆ›å»ºä¸€ä¸ª[[scope]]å±æ€§ï¼Œå®ƒåŒ…å«äº†å…¨å±€å˜é‡å¯¹è±¡çš„ä½œç”¨åŸŸé“¾ï¼Œå½“å‡½æ•°æ‰§è¡Œçš„æ—¶ä¼šé€šè¿‡å¤åˆ¶å‡½æ•°çš„[[scope]]æ„å»ºèµ·å½“å‰çš„ä½œç”¨åŸŸé“¾æ¡ï¼Œå¹¶å°†å½“å‰ AO å¯¹è±¡å‹å…¥ä½œç”¨åŸŸçš„æœ€å‰ç«¯</strong></p>
<pre><code class="language-js">var global = 'global scope';
function foo() {
  var local = 'local scope';
}
foo();
</code></pre>
<p>æˆ‘ä»¬ç”¨ä¸Šé¢çš„ä»£ç æ¨¡æ‹Ÿä¸‹ä¸Šè¿°è¿‡ç¨‹ï¼Œå½“ä¸Šé¢ä»£ç æ‰§è¡Œçš„æ—¶å€™é¦–å…ˆä¼šåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥æ‰§è¡Œæ ˆ</p>
<pre><code class="language-js">ECstack = [
globalcontext.
]
</code></pre>
<p>å½“é‡åˆ°å‡½æ•°åˆ›å»ºæ—¶å‡½æ•°å†…éƒ¨åˆ›å»º[[scope]]å±æ€§ï¼Œå®ƒåŒ…å«äº†å…¨å±€å¯¹è±¡çš„ä½œç”¨åŸŸé“¾ã€‚</p>
<pre><code class="language-js">foo.scope = [globalscope.VO];
</code></pre>
<p>å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥æ ˆé¡¶</p>
<pre><code class="language-js">ECstack = [
foocontext,
globalcontext.
]
</code></pre>
<p>æˆ‘ä»¬å‰é¢æåˆ°è¿‡å‡½æ•°æ‰§è¡Œçš„æ—¶å€™åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œç¼–è¯‘é˜¶æ®µå’Œæ‰§è¡Œé˜¶æ®µï¼Œç¼–è¯‘é˜¶æ®µå¤åˆ¶ f å‡½æ•°åˆ›å»ºæ—¶å€™çš„[[Scope]]å¯¹è±¡å¹¶åˆ©ç”¨ argumen åˆå§‹åŒ– AO å¯¹è±¡</p>
<pre><code class="language-js">foocontext = {
 AO:{
  argument:{
   length:0
    },
   local:undefined,
  },
 Scope:foo.[[Scope]]
}
</code></pre>
<p>å½“æ‰§è¡Œé˜¶æ®µçš„æ—¶å€™ä¸º AO å¯¹è±¡èµ‹å€¼ï¼Œå¹¶å°† AO å¯¹è±¡å‹å…¥ä½œç”¨åŸŸé“¾çš„æœ€å‰ç«¯</p>
<pre><code class="language-js">foocontext = {
  AO: {
    argument: {
      length: 0
    },
    local: 'local scope'
  },
  Scope: [AO, [[Scope]]]
};
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>å°±è¿™æ ·ä½œç”¨åŸŸé“¾ä¸­çš„ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡æ¥è‡ªåŒ…å«ï¼ˆå¤–éƒ¨ï¼‰ç¯å¢ƒï¼Œè€Œå†ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡åˆ™æ¥è‡ªä¸‹ä¸€ä¸ªåŒ…å«ç¯å¢ƒã€‚è¿™æ ·ï¼Œä¸€ç›´å»¶ç»­åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒï¼›å…¨å±€æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆéƒ½æ˜¯ä½œç”¨åŸŸé“¾ä¸­çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚<br>
å½“æˆ‘ä»¬æŸ¥æ‰¾ä¸€ä¸ªå˜é‡çš„æ—¶å€™å°±ä¼šä»è‡ªèº«å¼€å§‹æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æŸ¥æ‰¾åˆ°å°±ä¼šé¡ºç€ä½œç”¨åŸŸé“¾ç½‘ä¸ŠæŸ¥æ‰¾çˆ¶çº§çš„å˜é‡å¯¹è±¡çŸ¥é“æ‰¾åˆ°ä¸ºæ­¢ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚<br>
ä¸‹é¢ä¸¾ä¸€ä¸ªé«˜ç¨‹ä¸‰ä¸­çš„æ —å­</p>
<pre><code class="language-js">var color = 'blue';
function changeColor() {
  var anotherColor = 'red';
  function swapColors() {
    var tempColor = anotherColor;
    anotherColor = color;
    color = tempColor;
    // è¿™é‡Œå¯ä»¥è®¿é—® colorã€anotherColor å’Œ tempColor
  }
  // è¿™é‡Œå¯ä»¥è®¿é—® color å’Œ anotherColorï¼Œä½†ä¸èƒ½è®¿é—® tempColor
  swapColors();
}
// è¿™é‡Œåªèƒ½è®¿é—® color
changeColor();
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://user-images.githubusercontent.com/44893721/54472457-9d241480-4803-11e9-9aa6-2ec52f8dd16d.jpg" alt="1552722706(1)" loading="lazy"></figure>
<p><strong>çŸ©å½¢è¡¨ç¤ºç‰¹å®šçš„æ‰§è¡Œç¯å¢ƒã€‚å…¶ä¸­ï¼Œå†…éƒ¨ç¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰çš„å¤–éƒ¨ç¯å¢ƒï¼Œä½†å¤–éƒ¨ç¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨ç¯å¢ƒä¸­çš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚è¿™äº›ç¯å¢ƒä¹‹é—´çš„è”ç³»æ˜¯çº¿æ€§ã€æœ‰æ¬¡åºçš„ã€‚æ¯ä¸ªç¯å¢ƒéƒ½å¯ä»¥å‘ä¸Šæœç´¢ä½œç”¨åŸŸé“¾ï¼Œä»¥æŸ¥è¯¢å˜é‡å’Œå‡½æ•°åï¼›ä½†ä»»ä½•ç¯å¢ƒéƒ½ä¸èƒ½é€šè¿‡å‘ä¸‹æœç´¢ä½œç”¨åŸŸé“¾è€Œè¿›å…¥å¦ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒã€‚å¯¹äºè¿™ä¸ªä¾‹å­ä¸­çš„ swapColors() è€Œè¨€ï¼Œå…¶ä½œç”¨åŸŸé“¾ä¸­åŒ…å« 3 ä¸ªå¯¹è±¡ï¼š swapColors() çš„å˜é‡å¯¹è±¡ã€ changeColor() çš„å˜é‡å¯¹è±¡å’Œå…¨å±€å˜é‡å¯¹è±¡ã€‚ swapColors() çš„å±€éƒ¨ç¯å¢ƒå¼€å§‹æ—¶ä¼šå…ˆåœ¨è‡ªå·±çš„å˜é‡å¯¹è±¡ä¸­æœç´¢å˜é‡å’Œå‡½æ•°åï¼Œå¦‚æœæœç´¢ä¸åˆ°åˆ™å†æœç´¢ä¸Šä¸€çº§ä½œç”¨åŸŸé“¾ã€‚ changeColor() çš„ä½œç”¨åŸŸé“¾ä¸­åªåŒ…å«ä¸¤ä¸ªå¯¹è±¡ï¼šå®ƒè‡ªå·±çš„å˜é‡å¯¹è±¡å’Œå…¨å±€å˜é‡å¯¹è±¡ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´,å®ƒä¸èƒ½è®¿é—® swapColors() çš„ç¯å¢ƒ</strong></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ æ‰§è¡Œä¸Šä¸‹æ–‡]]></title>
        <id>https://icyfe.github.io/icyblog/post/zhi-xing-shang-xia-wen/</id>
        <link href="https://icyfe.github.io/icyblog/post/zhi-xing-shang-xia-wen/">
        </link>
        <updated>2020-06-17T08:04:09.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯æ‰§è¡Œæ ˆ"><strong>ä»€ä¹ˆæ˜¯æ‰§è¡Œæ ˆï¼Ÿ</strong></h2>
<p>æ‰§è¡Œæ ˆæ˜¯ç®¡ç†ä»£ç è¿è¡Œæ—¶äº§ç”Ÿçš„ä¸€ç³»åˆ—æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ƒéµå¾ª LIFO(LAST IN FIRST OUT åè¿›å…ˆå‡º)åŸåˆ™æ¥ä¿è¯ä»£ç æœ‰åºçš„è¿è¡Œã€‚<br>
æ‰§è¡Œä¸Šä¸‹æ–‡ä¸€èˆ¬åˆ†æ–‡ä¸‰ç§ï¼š 1.å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ 2.å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡<br>
2.evel æ‰§è¡Œä¸Šä¸‹æ–‡(ä¸€èˆ¬ä¸æ¨èä½¿ç”¨)</p>
<p>å½“ç¨‹åºå¼€å§‹è¿è¡Œæ—¶å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¼šå‹å…¥æ‰§è¡Œæ ˆçš„åº•éƒ¨,é‡åˆ°å¯å‡½æ•°æ‰§è¡Œæ—¶å°±åˆ›å»ºå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç»§ç»­å‹å…¥æ ˆï¼Œæ‰§è¡Œå®Œæ¯•æ—¶å°±å‡ºæ ˆã€‚ä¸‹é¢ä¸¾ä¸ªæ —å­ï¼š</p>
<pre><code class="language-js">function c() {
  console.log('c');
}
function b() {
  console.log('b');
  c();
}
function a() {
  console.log('a');
  b();
}
a();
</code></pre>
<p>è¯•ç€æƒ³ä¸€ä¸‹è¿™æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬ç”¨ ECstack æ¨¡æ‹Ÿæ‰§è¡Œæ ˆçš„è¿‡ç¨‹ï¼Œåœ¨ ECstack çš„åº•éƒ¨æ€»æ˜¯ä¼šæœ‰ä¸€ä¸ªå…¨å±€çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥æœ€åˆçš„æ‰§è¡Œæ ˆå¼ è¿™æ ·</p>
<pre><code class="language-js">ECstack = [gloabcontext];
</code></pre>
<p>æˆ‘ä»¬æŒ‰ä¸Šé¢æè¿°çš„<strong>å½“é‡åˆ°å¯æ‰§è¡Œå‡½æ•°å°±åˆ›å»ºå¯¹åº”çš„ä¸Šä¸‹æ–‡å‹å…¥æ ˆåº•ï¼Œéµå¾ªåè¿›å…ˆå‡ºåŸåˆ™å‡ºæ ˆ</strong></p>
<pre><code class="language-js">//å½“æ‰§è¡Œå‡½æ•°aæ—¶ï¼Œåˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ ˆåº•
ECstack.push(&lt;fun&gt; a)
//åœ¨aé‡Œåˆæ‰§è¡Œäº†å‡½æ•°b,å°±ç´§æ¥ç€åˆ›å»ºbçš„æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ ˆåº•
ECstack.push(&lt;fun&gt; b)
//æœ€ååœ¨bé‡Œåˆåˆæ‰§è¡Œcå‡½æ•°ï¼Œå†æ¬¡åˆ›å»ºcçš„æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ ˆåº•
ECstack.push(&lt;fun&gt; c)
//åˆ°c å¯ç®—æ²¡æœ‰äº†ï¼Œ æˆ‘ä»¬éµå¾ªåè¿›å…ˆå‡ºåŸåˆ™ä¾æ¬¡æ‰§è¡Œå®Œå‡ºæ ˆ
ECstack.pop() //cå‡ºæ ˆ
ECstack.pop()//bå‡ºæ ˆ
ECstack.pop()//aå‡ºæ ˆ
</code></pre>
<p>åœ¨ä¸¾ä¸ªæ —å­ï¼š</p>
<pre><code class="language-js">function a() {
  var value = 'local scope';
  function b() {
    console.log(value);
  }
  return b();
}
a();
function a() {
  var value = 'local scope';
  function b() {
    console.log(value);
  }
  return b;
}
a()();
</code></pre>
<p>å’‹ä¸€çœ‹ä¸¤æ®µä»£ç å…¶å®å·®ä¸å¤šï¼Œä½†æ˜¯ä»–çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸ºäº†æ›´å¥½çš„ç†è§£æ‰§è¡Œæ ˆæˆ‘ä»¬æ¥åˆ†æä¸‹è¿™ä¸¤ç«¯ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹<br>
ç¬¬ä¸€æ®µä»£ç </p>
<pre><code class="language-js">//a()æ‰§è¡Œçš„æ—¶å€™ï¼Œåˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡å…¥æ ˆ
ECsatck.push(&lt;fun&gt; a)
//å‡½æ•°aé‡åˆ°bå¯æ‰§è¡Œå‡½æ•°ï¼Œæ‰§è¡Œbå‡½æ•°åˆ›å»ºå¯æ‰§è¡Œä¸Šä¸‹æ–‡å…¥æ ˆ
ECstack.push(&lt;fun&gt; b)
//åè¿›å…ˆå‡ºåŸåˆ™bæ‰§è¡Œå®Œå‡ºæ ˆ
ECstack.pop()
//aæ‰§è¡Œå®Œå‡ºæ ˆ
ECstack.pop()
</code></pre>
<p>ç¬¬äºŒæ®µä»£ç </p>
<pre><code class="language-js">//a()æ‰§è¡Œçš„æ—¶å€™ï¼Œåˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡å…¥æ ˆ
ECsatck.push(&lt;fun&gt; a)
// aæ‰§è¡Œå®Œåè¿”å›äº†bå‡½æ•°ï¼Œæ³¨æ„è¿™é‡Œæ²¡æœ‰ç›´æ¥æ‰§è¡Œè€Œæ˜¯ç›´æ¥è¿”å›äº†b,æ‰€æœ‰æ²¡æœ‰åˆ›å»ºbå‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼Œaæ‰§è¡Œå®Œç›´æ¥å‡ºæ ˆ
ECstack.pop() //aå‡ºæ ˆ
//åœ¨å¤–éƒ¨è¿”å›çš„bå‡½æ•°è¢«æ‰§è¡Œï¼Œ åˆ›å»ºbçš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå‹å…¥æ ˆï¼Œ
ECstack.push(&lt;fun&gt; b)
//bæ‰§è¡Œå®Œå‡ºæ ˆ
ECstack.pop()

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åŸå‹ä¸åŸå‹é“¾]]></title>
        <id>https://icyfe.github.io/icyblog/post/yuan-xing-yu-yuan-xing-lian/</id>
        <link href="https://icyfe.github.io/icyblog/post/yuan-xing-yu-yuan-xing-lian/">
        </link>
        <updated>2020-06-17T08:03:37.000Z</updated>
        <content type="html"><![CDATA[<p>ä¸€ç›´åœ¨å­¦ä¹ å´æ²¡æœ‰ç³»åˆ—çš„æ€»ç»“è¿‡çŸ¥è¯†ç‚¹ï¼Œä»è¿™ç¯‡å¼€å§‹æ€»ç»“ä¸‹ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œè¿™æ¬¡æ€»ç»“çš„æ˜¯ js ä¸­çš„åŸå‹ä¸åŸå‹é“¾</p>
<p>å¼€å†™ä¹‹å‰å…ˆä¸Šä¸€å¼ å›¾ï¼Œæ¥ä¸‹æ¥çš„æ¦‚å¿µåŸºæœ¬ä¸Šéƒ½ä¼šå›´ç»•è¿™å¼ å›¾æ¥è®²<br>
<img src="https://user-images.githubusercontent.com/44893721/53714411-3577dc00-3e89-11e9-8128-49f13b226f45.png" alt="1 2rwcm 1 o 2h 8xf" loading="lazy"></p>
<h2 id="ä»€ä¹ˆæ˜¯åŸå‹"><strong>ä»€ä¹ˆæ˜¯åŸå‹ï¼Ÿ</strong></h2>
<p>å¼•ç”¨çº¢å®ä¹¦ä¸­çš„ä¸€æ®µè¯ï¼š</p>
<pre><code>æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œåªè¦åˆ›å»ºäº†ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå°±ä¼šæ ¹æ®ä¸€ç»„ç‰¹å®šçš„è§„åˆ™ä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ª prototype
å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª constructor
ï¼ˆæ„é€ å‡½æ•°ï¼‰å±æ€§ï¼Œè¿™ä¸ªå±æ€§åŒ…å«ä¸€ä¸ªæŒ‡å‘ prototype å±æ€§æ‰€åœ¨å‡½æ•°çš„æŒ‡é’ˆã€‚
</code></pre>
<p>ç®€å•ç‚¹æ¥è¯´<strong>åªè¦æ˜¯å‡½æ•°å°±ä¼šæœ‰ä¸€ä¸ª prototype(åŸå‹)å±æ€§å®ƒæ˜¯ä¸€ä¸ªæŒ‡é’ˆ</strong>ï¼Œå®ƒæŒ‡å‘çš„æ˜¯ä¸€ä¸ªå¯¹è±¡è¿™ä¸ªå¯¹è±¡å°±æ˜¯å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šé»˜è®¤è·å¾—ä¸€ä¸ª constructor(æ„é€ å‡½æ•°ï¼‰çš„å±æ€§æŒ‡å‘ prototype æŒ‡é’ˆæ‰€åœ¨çš„å‡½æ•°ï¼Œ<strong>å½“æˆ‘ä»¬é€šè¿‡ new å…³é”®å­—è°ƒç”¨å‡½æ•°æ—¶å°±æ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°çš„æ–¹å¼å»åˆ›å»ºä¸€ä¸ªå¯¹è±¡,è¿™æ—¶å€™ä¼šå¯¹è±¡å®åˆ—ä¸Šé¢ä¼šè‡ªåŠ¨åŒ…å«ä¸€ä¸ª[[Prototype]]æŒ‡é’ˆæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡</strong>ï¼Œä¸€èˆ¬[[Prototype]]åœ¨æµè§ˆå™¨ä¸­çš„å®ç°é•¿è¿™æ ·<strong>proto</strong>ã€‚<br>
å…¶å®è¿™å°±æ˜¯å¼€å¤´å›¾çš„ç¬¬ä¸€éƒ¨åˆ†<br>
<img src="https://user-images.githubusercontent.com/44893721/53715365-85a46d80-3e8c-11e9-8246-26812203fa03.png" alt="ej6h 45puxz 0nla66m 7f" loading="lazy"></p>
<p>æ¥æ¢³ç†ä¸€ä¸‹ï¼Œä¸€ä¸‹å†’å‡ºäº†è¿™ä¹ˆå¤šä¸ªå±æ€§æ„Ÿè§‰æœ‰ç‚¹ç»• 1.å‡½æ•°ä¸å‡½æ•°åŸå‹é€šè¿‡<strong>prototype</strong>å±æ€§é“¾æ¥ï¼Œ å‡½æ•°åŸå‹çš„<strong>construtor</strong>å±æ€§æŒ‡å‘æ„é€ å‡½æ•° 2.å¯¹è±¡å®ä¾‹ä¸åŸå‹å¯¹è±¡é€šè¿‡å®åŠ›çš„****proto****å±æ€§é“¾æ¥ã€‚</p>
<h2 id="åŸå‹æ¨¡å¼çš„ä½œç”¨">åŸå‹æ¨¡å¼çš„ä½œç”¨</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šè¿™ä¸ªåŸå‹åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ<br>
å†æ¬¡å¼•ç”¨çº¢å®ä¹¦ä¸­çš„ä¸€æ®µè¯</p>
<pre><code>æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype ï¼ˆåŸå‹ï¼‰å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œ
è€Œè¿™ä¸ªå¯¹è±¡çš„ç”¨é€”æ˜¯åŒ…å«å¯ä»¥ç”±ç‰¹å®šç±»å‹çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœæŒ‰ç…§å­—é¢æ„æ€æ¥ç†è§£ï¼Œé‚£
ä¹ˆ prototype å°±æ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°è€Œåˆ›å»ºçš„é‚£ä¸ªå¯¹è±¡å®ä¾‹çš„åŸå‹å¯¹è±¡ã€‚ä½¿ç”¨åŸå‹å¯¹è±¡çš„å¥½å¤„æ˜¯å¯ä»¥
è®©æ‰€æœ‰å¯¹è±¡å®ä¾‹å…±äº«å®ƒæ‰€åŒ…å«çš„å±æ€§å’Œæ–¹æ³•
</code></pre>
<p>ç®€å•æè¿°ä¸‹è¿™é‡Œçš„è®©æ‰€æœ‰å®ä¾‹å¯ä»¥å…±äº«åŸå‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•è¿™å¥è¯ï¼Œå½“æˆ‘ä»¬åœ¨åŸå‹å¯¹è±¡ä¸Šåˆ›å»ºæ–¹æ³•æ—¶åƒä¸‹é¢è¿™æ ·ï¼š</p>
<pre><code class="language-js">function Person() {}
Person.prototype.sayHi = function() {
  console.log('Hi!');
};
const p = new Person();
p.sayHi(); //'Hi!'
</code></pre>
<p>è¿™æ®µä»£ç æˆ‘ä»¬æ˜æ˜åœ¨ Person ä¸­æ²¡æœ‰å®šä¹‰ sayHi ä½†æ˜¯å´æˆåŠŸçš„æ‰“å°å‡ºäº†'Hi'ï¼Œ è¿™æ˜¯å› ä¸ºå½“å¯¹è±¡å®ä¾‹åœ¨æŸ¥æ‰¾å±æ€§æ—¶ï¼Œä¼šä¼˜å…ˆåœ¨æœ¬èº«å®ä¾‹ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æŸ¥æ‰¾åˆ°å°±ä¼šé¡ºç€åŸå‹æŒ‡é’ˆæŒ‡å‘çš„åŸå‹å¯¹è±¡ç»§ç»­æŸ¥æ‰¾å±æ€§ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†å°±æ‰“å°å‡ºäº†'Hi'</p>
<p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å‘ç°ï¼Œæˆ‘ä»¬å‡ ä¹æ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨ toString æˆ–è€… valueOf()æ–¹æ³•ï¼Œæ¯”å¦‚ä¸Šé¢çš„æ‰€ç¤ºä»£ç ä¹Ÿå¯ä»¥è°ƒç”¨ toString()</p>
<pre><code class="language-js">p.toString(); // function Person...
</code></pre>
<p>è¿™é‡Œä¸ç»æœ‰ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆ Person çš„å®ä¾‹æ²¡æœ‰å®šä¹‰ toString()ï¼ŒåŸå‹å¯¹è±¡ä¸Šä¹Ÿæ²¡æœ‰å®šä¹‰ toString æ–¹æ³•ï¼Œæ€ä¹ˆå°±è°ƒç”¨æˆåŠŸäº†å‘¢ï¼Ÿå†æ¬¡å¼•ç”¨çº¢åŒ…ä¹¦çš„ä¸€æ®µè¯</p>
<pre><code>å¤§å®¶è¦è®°ä½ï¼Œæ‰€æœ‰å‡½æ•°çš„é»˜è®¤åŸå‹éƒ½æ˜¯ Object çš„å®ä¾‹ï¼Œå› æ­¤é»˜è®¤åŸ
å‹éƒ½ä¼šåŒ…å«ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆ
</code></pre>
<p>è¿™é‡Œä¸ç¦æç„¶å¤§æ‚Ÿï¼ŒåŸæ¥æ‰€æœ‰çš„åŸå‹å¯¹è±¡é»˜è®¤æ˜¯ Object çš„å®ä¾‹ï¼Œ<strong>é‚£ä¹ˆå°±æ˜¯è¯´åŸå‹å¯¹è±¡ä¹Ÿä¼šæœ‰ä¸€ä¸ª</strong>proto<strong>å±æ€§å®ƒé»˜è®¤æŒ‡å‘ Object çš„åŸå‹å¯¹è±¡ï¼Œå› ä¸º Object å¯¹è±¡ä¸Šé»˜è®¤å®šä¹‰äº†ä¸€äº›å±æ€§å¦‚ toString(),valueOf()ç­‰ï¼Œæ‰€ä»¥ä¸Šé¢å½“æˆ‘ä»¬è°ƒç”¨ p.toString() åœ¨æœ¬èº«å®ä¾‹æ²¡æ‰¾åˆ°å°±ä¼šé¡ºç€åŸå‹å»æŸ¥æ‰¾ï¼ŒåŸå‹å¯¹è±¡ä¸Šæ²¡æœ‰çš„æ—¶å€™å†æ¬¡é¡ºç€åŸå‹å¯¹è±¡çš„</strong>proto<strong>æŸ¥æ‰¾ï¼Œæœ€ç»ˆæ‰¾åˆ°å¹¶æ‰§è¡Œå› æ­¤ Object æ˜¯æ‰€æœ‰åŸå‹çš„å°½å¤´ï¼Œè¿˜æœ‰ä¸€ç‚¹ Object çš„åŸå‹æŒ‡å‘ç©ºæ‰€ä»¥å½“ Object éƒ½æŸ¥æ‰¾ä¸åˆ°å±æ€§çš„æ—¶å€™å°±ä¼šæŠ¥é”™</strong>ï¼Œç”±ä¸€ç³»åˆ—çš„åŸå‹æŒ‡é’ˆè¿èµ·æ¥çš„å°±ç»„æˆäº†åŸå‹é“¾ã€‚</p>
<p>è¿™é‡Œä¹Ÿå°±æ˜¯å¼€å¤´å›¾çš„ç¬¬äºŒéƒ¨åˆ†<br>
<img src="https://user-images.githubusercontent.com/44893721/53717226-71fc0580-3e92-11e9-98a9-824891658bf4.png" alt="image" loading="lazy"></p>
<p>æœ€åæˆ‘ä»¬æ¥çœ‹çœ‹æœ€åä¸€éƒ¨åˆ†</p>
<figure data-type="image" tabindex="1"><img src="https://user-images.githubusercontent.com/44893721/53717251-86400280-3e92-11e9-8a3b-07284fee1f37.png" alt="image" loading="lazy"></figure>
<p>é€šå¸¸æˆ‘ä»¬å®šä¹‰å‡½æ•°æ—¶éƒ½æ˜¯è¿™æ ·å®šä¹‰çš„</p>
<pre><code class="language-js">function Person(a, b) {
  return a + b;
}
</code></pre>
<p>ä½†æ˜¯æ®Šä¸çŸ¥ä¹Ÿç®—å¯ä»¥è¿™æ ·å®šä¹‰çš„<br>
<code>let Person = new Function('a','b','return a+b')</code><br>
è¿™æ ·çš„å†™æ³•ç­‰ä»·ä¸ä¸Šé¢çš„å†™æ³•ï¼Œå› æ­¤æ¯ä¸ªå‡½æ•°å…¶å®ä¹Ÿæ˜¯ Function æ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œæ‰€ä»¥ä¹Ÿéµå¾ªä»¥ä¸Šæ‰€æè¿°æ‹¥æœ‰ä¸€ç³»åˆ—åŸå‹å±æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸¸å¸¸ä¼šè°ƒç”¨ call å’Œ apply çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ Function åŸå‹å¯¹è±¡ä¸Šç»§æ‰¿æ¥çš„ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ æ•°ç»„æ‰å¹³åŒ–]]></title>
        <id>https://icyfe.github.io/icyblog/post/shu-zu-bian-ping-hua/</id>
        <link href="https://icyfe.github.io/icyblog/post/shu-zu-bian-ping-hua/">
        </link>
        <updated>2020-06-17T08:02:49.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æœ‰è¿™ä¹ˆä¸€ä¸ªæ•°ç»„-var-arr-1-2-2-3-4-5-5-6-7-8-9-11-12-12-13-14-10">æœ‰è¿™ä¹ˆä¸€ä¸ªæ•°ç»„ var arr = [[1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14]]]], 10];</h2>
<h2 id="è¦æ±‚å°†ä»–æ‰å¹³åŒ–å¹¶æŒ‰å‡åºæ’åˆ—">è¦æ±‚å°†ä»–æ‰å¹³åŒ–ï¼Œå¹¶æŒ‰å‡åºæ’åˆ—</h2>
<p><strong>ä»€ä¹ˆæ˜¯æ‰å¹³åŒ–ï¼Ÿ</strong><br>
å°±æ˜¯è½¬æ¢æˆè¿™æ ·<br>
[[1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14]]]], 10] =&gt;[1,2,2,3,4,5,5,6,7,8,9,11,12,12,13,14,10]</p>
<p><strong>æ–¹æ³•ä¸€ï¼š</strong></p>
<pre><code class="language-js">function flatAndsort(arr) {
  return arr
    .toString()
    .split(',') //æ‹å¹³æ•°ç»„(ä½†æ˜¯æœ‰ä¸ªä¸å¥½çš„åœ°æ–¹å°±æ˜¯ä¼šå°†æ•°å­—ç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹)
    .sort((a, b) =&gt; {
      return a - b; //å‡åºæ’åº
    })
    .map(item =&gt; {
      return parseInt(item); // å› ä¸ºä¹‹å‰è½¬æ¢æˆäº†å­—ç¬¦ä¸²ç±»å‹æˆ‘ä»¬è½¬æ¢å›æ¥
    });
}
//[ 1, 2, 2, 3, 4, 5, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10 ]
</code></pre>
<p><strong>æ–¹æ³•äºŒï¼š</strong></p>
<pre><code class="language-js">function flat(arr) {
  return [].concat(
    ...arr.map(item =&gt; {
      return Array.isArray(item) == true ? flat(item) : item;
    })
  );
}
function sort(a, b) {
  return a - b;
}

let c = flat(arr); //[ 1, 2, 2, 3, 4, 5, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10 ]
</code></pre>
<p><strong>æ–¹æ³•ä¸‰</strong></p>
<pre><code class="language-js">function flat(arr) {
  return arr.reduce((pre, current) =&gt; {
    return pre.concat(current.constructor == Array ? flat(current) : current);
  }, []);
}
function sort(a, b) {
  return a - b;
}
let c = flat(arr); //[ 1, 2, 2, 3, 4, 5, 5, 6, 7, 8, 9, 11, 12, 12, 13, 14, 10 ]
</code></pre>
<p><strong>æ–¹æ³•å››(å®Œå…¨ ES6 æ–¹æ³•)</strong></p>
<pre><code class="language-js">var arr = [[1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14]]]], 10];

let c = arr.flat(4).sort((a, b) =&gt; {
  return a - b;
});
</code></pre>
<p>Array.flat()å‡½æ•°æ˜¯å°†æ•°æ®æ‰å¹³åŒ–çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œdepath å†³å®šæ•°ç»„åµŒå¥—çš„æ·±åº¦ï¼Œè¿™é‡Œä¾‹æ·±åº¦æ˜¯ 4 æ‰€ä»¥æˆ‘ä»¬ä¼  4</p>
<h2 id="æœ€ååœ¨å¢åŠ ä¸€ä¸ªéœ€æ±‚å°†æ‰å¹³åŒ–å‡åºæ’åˆ—çš„æ•°ç»„å»é‡å¦‚ä½•å®ç°">æœ€ååœ¨å¢åŠ ä¸€ä¸ªéœ€æ±‚ï¼Œå°†æ‰å¹³åŒ–å‡åºæ’åˆ—çš„æ•°ç»„å»é‡å¦‚ä½•å®ç°ï¼Ÿ**</h2>
<p>ES5:</p>
<pre><code class="language-js">let list = c.filter((item, index, list) =&gt; {
  return list.indexOf(item) == index;
});
</code></pre>
<p>ES6:</p>
<pre><code class="language-js">[...new Set([1, 2, 2, 3, 4, 5])]; // 12345
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å˜é‡å¯¹è±¡]]></title>
        <id>https://icyfe.github.io/icyblog/post/bian-liang-dui-xiang/</id>
        <link href="https://icyfe.github.io/icyblog/post/bian-liang-dui-xiang/">
        </link>
        <updated>2020-06-17T08:00:51.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯å˜é‡å¯¹è±¡variable-objectvo">ä»€ä¹ˆæ˜¯å˜é‡å¯¹è±¡(Variable objectï¼ŒVO)ï¼Ÿ</h2>
<p>å˜é‡å¯¹è±¡æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„<strong>æ•°æ®ä½œç”¨åŸŸ</strong>ï¼Œå®ƒå­˜å‚¨äº†å½“å‰ä¸Šä¸‹æ–‡çš„å˜é‡å’Œå‡½æ•°å£°æ˜ã€‚<br>
æ‰§è¡Œä¸Šä¸‹æ–‡ä¸€èˆ¬åˆ†ä¸‰ç§ 1.å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ 2.å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡<br>
3.evel(ä¸€èˆ¬ä¸æ¨èä½¿ç”¨)</p>
<h2 id="å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡">å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡</h2>
<p>å½“ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œå…¨å±€ä¸Šä¸‹æ–‡ä¼šé¢„å…ˆå®šä¹‰ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼ŒåŒ…å«äº†ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¦‚:Math,document...<br>
ç”±è¿™äº›ç»„æˆçš„å…¨å±€å¯¹è±¡å°±æ˜¯å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡</p>
<h2 id="å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡">å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡</h2>
<p>è€Œå‡½æ•°çš„ä¸Šä¸‹æ–‡å˜é‡å¯¹è±¡å’Œå…¨å±€çš„ä¸åŒå®ƒåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µåˆ›å»ºé˜¶æ®µå’Œæ‰§è¡Œé˜¶æ®µï¼Œå®ƒçš„åˆ›å»ºè¿‡ç¨‹ä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆ 1.å»ºç«‹ Argument å¯¹è±¡ï¼Œæ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡çš„å½¢å‚å»ºç«‹ç›¸åº”çš„å±æ€§ã€‚ 2.æ£€æŸ¥å‡½æ•°å£°æ˜.åˆ›å»ºæŒ‡å‘å‡½æ•°çš„å¼•ç”¨ 3.æ£€æŸ¥å˜é‡å£°æ˜ï¼Œç”± var å…³é”®å­—å£°æ˜çš„å˜é‡(let å’Œ const ä¸ä¼šåŠ å…¥åˆ°å˜é‡å¯¹è±¡åˆ›å»ºé˜¶æ®µä¼šè¿›å…¥æš‚æ—¶æ€§æ­»åŒº)ï¼Œé€šè¿‡å˜é‡æå‡ä¼šåˆå§‹åŒ–ä¸º undefined å¦‚æœé‡åˆ°åŒåå‡½æ•°å£°æ˜ä¼šè·³è¿‡ã€‚<br>
ä¸¾ä¸ªæ —å­ï¼š</p>
<pre><code class="language-js">function a() {
  console.log(b); //function b
  function b() {
    console.log('Hello');
  }
  var b = 'Hi';
  var c = 'Hi2';
  console.log(b); //'Hi'
}
</code></pre>
<p>ä¸Šé¢çš„æ —å­åœ¨åˆ›å»ºé˜¶æ®µå‡½æ•°å’Œå˜é‡æå‡ï¼Œå› æ­¤æ‰“å°å‡ºå‡½æ•° b,æœ‰äººä¼šç–‘æƒ‘ä¸ºä»€ä¹ˆä¸æ˜¯ undefined åé¢çš„è¦†ç›–å‰é¢çš„å•Šï¼Œå› ä¸ºåœ¨ä¸Šé¢ç¬¬ä¸‰ç‚¹ä¸­æåˆ°äº† å¦‚æœ var å£°æ˜çš„å˜é‡é‡åˆ°åŒåçš„ä¼šè·³è¿‡,åé¢çš„ b è¾“å‡º hi å› ä¸ºæ˜¯åœ¨æ‰§è¡Œé˜¶æ®µèµ‹å€¼äº§ç”Ÿäº†è¦†ç›–è¡Œä¸ºã€‚<br>
åˆ›å»ºè¿‡ç¨‹å¦‚ä¸‹</p>
<pre><code class="language-js">//åˆ›å»ºé˜¶æ®µ
VO:{
        argument:{
            length:0,
        }
        b:&lt; reference&gt; function b(){},
        c:undefined
    }

//æ‰§è¡Œé˜¶æ®µ
AO:{
        argument:{
            length:0,
        }
        b:Hi,
        c:Hi2
    }
</code></pre>
<p>è¿™é‡Œä¸ç¦å†æ¬¡ç–‘é—® AO æ˜¯ä»€ä¹ˆï¼Œå…¶å® AO å°±æ˜¯ VO ä¸¤ä¸ªæ˜¯æŒ‡çš„ä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯åœ¨ä¸åŒé˜¶æ®µå‘ç”Ÿäº†å˜åŒ–ï¼Œå½“å¯æ‰§è¡Œå‡½æ•°åœ¨æ‰§è¡Œæ ˆçš„æœ€é¡¶ç«¯æ—¶ï¼Œä¹Ÿå°±æ˜¯å½“å‰å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«æ‰§è¡Œï¼ŒVO å°±å˜æˆäº† AOï¼Œå¹¶è¿›è¡Œä¸€ç³»åˆ—çš„èµ‹å€¼æ“ä½œ<br>
åœ¨æ¥çœ‹ä¸€ä¸ª</p>
<pre><code class="language-js">function a(b) {
  console.log(b); //function b{}
  function b() {
    console.log('Hello');
  }
  var b = 'Hi';
  var c = 'Hi2';
  console.log(b);
}
a(1);
</code></pre>
<p>è¿™ä¸ªæ˜æ˜æœ‰ä¼ å‚æ•°ä¸ºä»€ä¹ˆè¿˜æ˜¯æœ€åè¾“å‡ºæ¥çš„è¿˜æ˜¯ function b å‘¢ï¼Œè¿™é‡Œåˆæœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹å½“ä¼ å…¥çš„å½¢å‚å’Œå‡½æ•°å£°æ˜åŒåæ—¶ï¼Œå‡½æ•°å£°æ˜ä¼šè¦†ç›–å½¢å‚<br>
æ€»ç»“ä¸€ä¸‹ï¼š 1.å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡å°±æ˜¯ window 2.å‡½æ•°ä¸Šä¸‹æ–‡å˜é‡å¯¹è±¡ç”±å½¢å‚ï¼Œå‡½æ•°å£°æ˜ï¼Œå˜é‡å£°æ˜ç»„æˆ 3.å‡½æ•°ä¸Šä¸‹æ–‡å˜é‡å¯¹è±¡åˆ†ä¸ºåˆ›å»ºé˜¶æ®µå’Œå£°æ˜é˜¶æ®µï¼Œä¸¤ä¸ªé˜¶æ®µéƒ½ä¼šå¯¹å±æ€§è¿›è¡Œæ›´æ”¹ 1.åˆ›å»ºé˜¶æ®µï¼šå¦‚æœ function å…³é”®å­—å£°æ˜çš„å˜é‡ä¸å½¢å‚åŒåå°†ä¼šè¦†ç›–åŸæœ‰å±æ€§ï¼Œvar å£°æ˜çš„å˜é‡å¦‚æœä¸<br>
function å£°æ˜çš„é‡åäº†å°†ä¸ä¼šå½±å“åˆ°å·²ç»å£°æ˜çš„å‡½æ•°ï¼Œä¼šè·³è¿‡ï¼Œå…¶ä»–é€šè¿‡ var å£°æ˜çš„ä¼šåˆå§‹åŒ–ä¸º<br>
undefined 2. æ‰§è¡Œé˜¶æ®µ:è¿™ä¸ªé˜¶æ®µä¼šå†æ¬¡å¯¹å˜é‡è¿›è¡Œä¿®æ”¹ï¼Œè¿›è¡Œç›¸åº”çš„èµ‹å€¼ï¼Œå¯¹ä»»ä½•å·²ç»æœ‰çš„å€¼éƒ½ä¼šè¿›è¡Œè¦†ç›–ã€‚åˆ—<br>
å¦‚å‡½æ•°å£°æ˜</p>
]]></content>
    </entry>
</feed>